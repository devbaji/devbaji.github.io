(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);m&&m(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var s=a[o];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},o={app:0},r={app:0},i=[];function s(e){return c.p+"js/"+({"books~distribute~logs~reports~return~singleBook~singleMember":"books~distribute~logs~reports~return~singleBook~singleMember",books:"books",distribute:"distribute",logs:"logs",reports:"reports",return:"return","settings~singleMember":"settings~singleMember",singleMember:"singleMember",singleBook:"singleBook",bulkUpload:"bulkUpload",dashboard:"dashboard",members:"members",notFound:"notFound",settings:"settings"}[e]||e)+"."+{"books~distribute~logs~reports~return~singleBook~singleMember":"724eecc9",books:"644e3a9a",distribute:"eed3a1a8",logs:"5090b6dc",reports:"41aa6a61",return:"f3b465c5","settings~singleMember":"402e47a7",singleMember:"2f7a4992",singleBook:"0850081d",bulkUpload:"8b088511",dashboard:"7e8ae08a",members:"65c2b2ee",notFound:"5e2f363b",settings:"5724e33f"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"books~distribute~logs~reports~return~singleBook~singleMember":1,books:1,distribute:1,logs:1,reports:1,return:1,"settings~singleMember":1,singleMember:1,singleBook:1,bulkUpload:1,dashboard:1,members:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=new Promise((function(t,a){for(var n="css/"+({"books~distribute~logs~reports~return~singleBook~singleMember":"books~distribute~logs~reports~return~singleBook~singleMember",books:"books",distribute:"distribute",logs:"logs",reports:"reports",return:"return","settings~singleMember":"settings~singleMember",singleMember:"singleMember",singleBook:"singleBook",bulkUpload:"bulkUpload",dashboard:"dashboard",members:"members",notFound:"notFound",settings:"settings"}[e]||e)+"."+{"books~distribute~logs~reports~return~singleBook~singleMember":"2090ba31",books:"f92109e4",distribute:"bdf4d8f4",logs:"50511716",reports:"2bbd3e78",return:"bdf4d8f4","settings~singleMember":"e1fb5b87",singleMember:"7d3f0686",singleBook:"b7d93eaa",bulkUpload:"3435b2aa",dashboard:"d68b03f1",members:"aa35bca3",notFound:"31d6cfe0",settings:"31d6cfe0"}[e]+".css",r=c.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var l=i[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===r))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===n||u===r)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete o[e],m.parentNode.removeChild(m),a(i)},m.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){o[e]=0})));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(m);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",d.name="ChunkLoadError",d.type=n,d.request=o,a[1](d)}r[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var m=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},4360:function(e,t,a){"use strict";var n=a("a6f4"),o=Object(n["e"])({libraryName:"",libraryEmail:"",libraryHasLogo:"",libraryLogoUrl:"",bUploadInProgress:null,libraryBasicDetailsLoaded:!1,mini:!1,dense:!1,sidebarMenu:!0,title:"",windowWidth:window.innerWidth,windowHeight:window.innerHeight,scannerInput:"",lastKeyPress:null,keyUpTimeout:null}),r=Object(n["a"])((function(){return o.windowWidth<750})),i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.dense=e},s=function(){o.windowWidth<750?(o.mini=!1,o.sidebarMenu=!o.sidebarMenu):o.mini=!o.mini},c=Object(n["e"])({state:o,toggleDrawer:s,isTemporary:r,smallHeader:i}),l=(a("b0c0"),a("ce96")),u=Object(n["e"])({loggedIn:!1,title:"",route:null,screenSize:null,time:new Date,isLoaderShow:!1,loaderMessage:"",isDialogShow:!1,dialogHeader:"",dialogMessage:"",dialogType:"primary",isConfirmShow:!1,confirmHeader:"",confirmMessage:"",confirmType:"primary",confirmOkText:"Ok",confirmInput:null,confirmInputValue:"",confirmFormValid:!1,confirmCancelText:"Cancel",confirmCallback:function(){},confirmCancel:function(){},snackBarText:"",snackBar:!1}),d=Object(n["a"])((function(){return u})),m=Object(n["f"])(null),f=Object(n["a"])((function(){return u.dialogMessage})),p=Object(n["a"])((function(){return u.dialogHeader})),b=Object(n["a"])((function(){return u.dialogType})),h=Object(n["a"])((function(){return u.confirmMessage})),g=Object(n["a"])((function(){return u.confirmHeader})),v=Object(n["a"])((function(){return u.confirmType})),y=Object(n["a"])((function(){return u.confirmOkText})),D=Object(n["a"])((function(){return u.confirmCancelText})),k=Object(n["a"])((function(){return u.confirmInput})),w=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"primary";u.isDialogShow=!0,u.dialogType=a,u.dialogHeader=e||"",u.dialogMessage=t||""},j=function(){return u.isDialogShow=!1},M=function(){return u.isConfirmShow=!1},O=function(e){var t,a,n=e.title,o=e.content,r=e.type,i=void 0===r?"primary":r,s=e.callback,c=e.cancel,l=e.input,d=e.cancelText,f=void 0===d?"Cancel":d,p=e.okText,b=void 0===p?"Ok":p;u.isConfirmShow=!0,u.confirmType=i,u.confirmCancelText=f,u.confirmOkText=b,u.confirmHeader=n||"",u.confirmMessage=o||"";var h="text"===l||"password"===l;(null===m||void 0===m||null===(t=m.value)||void 0===t?void 0:t.reset)&&(null===m||void 0===m||null===(a=m.value)||void 0===a||a.reset()),s&&(u.confirmCallback=function(){var e={message:"Confirmed"};if(h){if(!m.value.validate())return;e.input=u.confirmInputValue}u.isConfirmShow=!1,s(e)}),c&&(u.confirmCancel=function(){var e={message:"Cancelled"};if(h){if(!m.value.validate())return;e.input=u.confirmInputValue}u.isConfirmShow=!1,c(e)}),h&&(u.confirmInput=l)},Y=Object(n["a"])((function(){return u.isLoaderShow})),B=Object(n["a"])((function(){return u.route&&u.route.previous.name})),T=Object(n["a"])((function(){return u.loaderMessage})),x=Object(n["a"])({get:function(){return u.snackBar},set:function(e){u.snackBar=e}}),L=Object(n["a"])((function(){return u.snackBarText})),S=function(e){u.snackBar=e},P=function(e){u.snackBar=!0,u.snackBarText=e},F=Object(n["a"])((function(){return u.time})),C=function(e){u.time=e},A=Object(n["a"])((function(){return u.screenSize})),_=function(e){u.screenSize=e},N=Object(n["a"])((function(){return u.title})),R=function(e){u.title=e},I=Object(n["a"])((function(){return"sm"===u.screenSize||"xs"===u.screenSize})),z=Object(n["a"])((function(){return u.route})),E=function(e){u.route=e},U=Object(n["a"])((function(){return u.loggedIn})),V=function(){l["a"].localStorage.deleteItem("logged_in"),window.location.href="/"},K=function(){u.loggedIn=!0},q=function(e){u.isLoaderShow=!0,u.loaderMessage=e},H=function(){u.isLoaderShow=!1,u.loaderMessage=""},W=Object(n["e"])({get isDialogShow(){return u.isDialogShow},set isDialogShow(e){u.isDialogShow=e},dialogHeader:p,dialogMessage:f,dialogType:b,showDialog:w,hideDialog:j,get isConfirmShow(){return u.isConfirmShow},get confirmCallback(){return u.confirmCallback},get confirmCancel(){return u.confirmCancel},set isConfirmShow(e){u.isConfirmShow=e},get confirmInputValue(){return u.confirmInputValue},set confirmInputValue(e){u.confirmInputValue=e},get confirmFormValid(){return u.confirmFormValid},set confirmFormValid(e){u.confirmFormValid=e},confirmOkText:y,confirmForm:m,confirmCancelText:D,confirmHeader:g,confirmMessage:h,confirmType:v,confirmInput:k,showConfirm:O,hideConfirm:M,showLoader:q,hideLoader:H,isLoaderShown:Y,loaderMessage:T,isLoggedIn:U,logOut:V,logIn:K,setRoute:E,getRoute:z,getScreenSize:A,setScreenSize:_,isSmallScreen:I,setTime:C,getTime:F,isSnackBarShown:x,setSnackBar:S,snackBarText:L,showAlert:P,appData:d,isBackPossible:B,getTitle:N,setTitle:R}),X=!!l["a"].localStorage.getItem("keep_signed_in"),J=Object(n["e"])({userName:"",password:"",keepSignedIn:X,loading:!1}),Q=Object(n["e"])({state:J}),$=(a("7db0"),a("a15b"),a("d81d"),a("fb6a"),a("ac1f"),a("1276"),a("5530")),G=a("c1df"),Z=a.n(G),ee=Object(n["e"])({showQrCode:!1,qrCodeBook:null,loadedAll:!1,isLoading:!1,data:[],resetData:function(){this.data=[],this.loadedAll=!1}}),te=Object(n["a"])((function(){return vt.app.getTime?vt.app.getTime.toISOString():(new Date).toISOString()})),ae={searchKey:null,searchBy:null,stock:null,type:null,purchaseDates:[],purchaseDateRangeText:null,orderBy:"name"},ne=Object(n["e"])(Object($["a"])(Object($["a"])({},ae),{},{showFilterOnXs:!1,toggleFilterOnXs:function(){this.showFilterOnXs=!this.showFilterOnXs},resetFilter:function(){for(var e in ae)this[e]=ae[e]},purchaseFilterMaxDate:te,searchByFilters:[{name:"Book Id",_id:"bookNumber"},{name:"Book Name",_id:"bookName"},{name:"Author Name",_id:"authorName"}],searchByStock:[{name:"In",_id:1},{name:"Out",_id:2},{name:"Removed",_id:3}],searchByOrder:[{name:"Name",orderBy:"name",orderType:1},{name:"Book id",orderBy:"bookNumber",orderType:1},{name:"Recently distributed",orderBy:"lastDistributedDate",orderType:-1},{name:"Most distributed",orderBy:"distributedCount",orderType:-1},{name:"Recently added",orderBy:"dateAdded",orderType:-1}],searchByTypeFilters:[],isBookTypesLoaded:!1}));Object(n["h"])((function(){return ne.purchaseDates}),(function(e,t){var a=e.slice();2===a.length&&Z()(a[0],"YYYY-MM-DD").toDate()>Z()(a[1],"YYYY-MM-DD").toDate()&&a.reverse(),ne.purchaseDateRangeText=a.map((function(e){return Z()(e,"YYYY-MM-DD").format("DD-MM-YYYY")})).join("~")})),Object(n["h"])((function(){return ne.purchaseDateRangeText}),(function(e,t){e||(ne.purchaseDates=[])}));var oe=Object(n["a"])((function(){var e="";e+=ne.searchKey&&ne.searchKey.length?"&searchTerm=".concat(encodeURIComponent(ne.searchKey)):"",e+=ne.searchBy&&ne.searchBy.length?"&searchBy=".concat(ne.searchBy):"",e+=ne.stock?"&stock=".concat(ne.stock):"",e+=ne.type?"&type=".concat(ne.type):"";var t=ne.searchByOrder.find((function(e){return e.orderBy===ne.orderBy}));if(e+="&orderType=".concat(t.orderType),e+="&orderBy=".concat(t.orderBy),ne.purchaseDateRangeText){var a=ne.purchaseDateRangeText.split("~");a[0]&&(e+="&dateAddedFrom=".concat(a[0])),a[1]&&(e+="&dateAddedTo=".concat(a[1]))}return e})),re=Object(n["e"])({state:ee,filters:ne,filterQuery:oe}),ie=(a("d3b7"),a("bc3a")),se=a.n(ie),ce=Object(n["a"])((function(){return vt.app.getTime?vt.app.getTime.toISOString():(new Date).toISOString()})),le=function(){se.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book/type")).then((function(e){de.searchByTypeFilters=e.data})).catch((function(e){return Promise.reject(e)})).finally((function(){return de.isBookTypesLoaded=!0}))},ue={stock:null,isPdfLoading:!1,isXlsxLoading:!1,type:null,purchaseDates:[],purchaseDateRangeText:null,orderBy:"name"},de=Object(n["e"])(Object($["a"])(Object($["a"])({},ue),{},{resetFilter:function(){for(var e in ue)this[e]=ue[e]},purchaseFilterMaxDate:ce,searchByStock:[{name:"In",_id:1},{name:"Out",_id:2},{name:"Removed",_id:3}],searchByOrder:[{name:"Name",orderBy:"name",orderType:1},{name:"Book id",orderBy:"bookNumber",orderType:1},{name:"Recently distributed",orderBy:"lastDistributedDate",orderType:-1},{name:"Most distributed",orderBy:"distributedCount",orderType:-1},{name:"Recently added",orderBy:"dateAdded",orderType:-1}],searchByTypeFilters:[],isBookTypesLoaded:!1,loadBookTypes:le}));Object(n["h"])((function(){return de.purchaseDates}),(function(e,t){var a=e.slice();2===a.length&&Z()(a[0],"YYYY-MM-DD").toDate()>Z()(a[1],"YYYY-MM-DD").toDate()&&a.reverse(),de.purchaseDateRangeText=a.map((function(e){return Z()(e,"YYYY-MM-DD").format("DD-MM-YYYY")})).join("~")})),Object(n["h"])((function(){return de.purchaseDateRangeText}),(function(e,t){e||(de.purchaseDates=[])}));var me=Object(n["a"])((function(){var e="";e+=de.stock?"&stock=".concat(de.stock):"",e+=de.type?"&type=".concat(de.type):"";var t=de.searchByOrder.find((function(e){return e.orderBy===de.orderBy}));if(e+="&orderType=".concat(t.orderType),e+="&orderBy=".concat(t.orderBy),de.purchaseDateRangeText){var a=de.purchaseDateRangeText.split("~");a[0]&&(e+="&dateAddedFrom=".concat(a[0])),a[1]&&(e+="&dateAddedTo=".concat(a[1]))}return e})),fe=Object(n["e"])({filters:de,filterQuery:me}),pe=Object(n["e"])({loadedAll:!1,isLoading:!1,data:[],resetData:function(){this.data=[],this.loadedAll=!1}}),be=Object(n["a"])((function(){return ve.membersData.find((function(e){return e._id==ve.member}))})),he=Object(n["a"])((function(){return vt.app.getTime?vt.app.getTime.toISOString():(new Date).toISOString()})),ge={member:null,isPdfLoading:!1,memberSearchKey:null,stock:0,orderBy:"-1",dateType:"month",logMonth:Z()(he).format("YYYY-MM"),logDates:[Z()(he).format("YYYY-MM-DD")],logMonthText:Z()(he).format("MM-YYYY"),logDateRangeText:Z()(he).format("DD-MM-YYYY")},ve=Object(n["e"])(Object($["a"])(Object($["a"])({},ge),{},{logFilterCurrentDate:he,showFilterOnXs:!1,toggleFilterOnXs:function(){this.showFilterOnXs=!this.showFilterOnXs},resetFilter:function(){for(var e in ge)this[e]=ge[e]},searchByStock:[{name:"All",_id:0},{name:"Not returned",_id:1},{name:"Returned",_id:2}],isMemberLoading:!0,selectedmember:be,membersData:[]})),ye=Object(n["a"])((function(){if(!ve.logDates)return null;var e="";if(e+=ve.member?"&member=".concat(ve.member):"",e+="&dateType=".concat(ve.dateType),e+="&stock=".concat(ve.stock),e+="&orderBy=".concat(ve.orderBy),e+="month"===ve.dateType?"&dateMonth=".concat(ve.logMonthText):"","date_range"===ve.dateType){var t=ve.logDateRangeText?ve.logDateRangeText.split("~"):[];e+=t[0]?"&dateFrom=".concat(t[0]):"",e+=t[1]?"&dateTo=".concat(t[1]):""}return e}));Object(n["h"])((function(){return ve.logMonth}),(function(e){ve.logMonthText=Z()(e,"YYYY-MM").format("MM-YYYY")})),Object(n["h"])((function(){return ve.logDates}),(function(e){var t=e.slice();2===t.length&&Z()(t[0],"YYYY-MM-DD").toDate()>Z()(t[1],"YYYY-MM-DD").toDate()&&t.reverse(),ve.logDateRangeText=t.map((function(e){return Z()(e,"YYYY-MM-DD").format("DD-MM-YYYY")})).join("~")}));var De,ke=Object(n["e"])({state:pe,filters:ve,filterQuery:ye}),we=(a("99af"),function(e){Ye.isMemberLoading=!0,De&&De.cancel("Operation canceled due to new request."),De=se.a.CancelToken.source();var t=e&&e.length?"&searchTerm="+encodeURIComponent(e):"";se.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member?limit=40").concat(t,"&nameAndIdOnly=true"),{cancelTokenMembers:De.token}).then((function(e){Ye.isMemberLoading=!1,Ye.membersData=e.data.data})).catch((function(e){return Promise.reject(e)}))}),je=Object(n["a"])((function(){return Ye.membersData.find((function(e){return e._id==Ye.member}))})),Me=Object(n["a"])((function(){return vt.app.getTime?vt.app.getTime.toISOString():(new Date).toISOString()})),Oe={member:null,isPdfLoading:!1,isXlsxLoading:!1,memberSearchKey:null,stock:0,orderBy:"-1",dateType:"month",logMonth:Z()(Me).format("YYYY-MM"),logDates:[Z()(Me).format("YYYY-MM-DD")],logMonthText:Z()(Me).format("MM-YYYY"),logDateRangeText:Z()(Me).format("DD-MM-YYYY")},Ye=Object(n["e"])(Object($["a"])(Object($["a"])({},Oe),{},{logFilterCurrentDate:Me,showFilterOnXs:!1,toggleFilterOnXs:function(){this.showFilterOnXs=!this.showFilterOnXs},resetFilter:function(){for(var e in Oe)this[e]=Oe[e]},searchByStock:[{name:"All",_id:0},{name:"Not returned",_id:1},{name:"Returned",_id:2}],isMemberLoading:!0,selectedmember:je,membersData:[]})),Be=Object(n["a"])((function(){if(!Ye.logDates)return null;var e="";if(e+=Ye.member?"&member=".concat(Ye.member):"",e+="&dateType=".concat(Ye.dateType),e+="&stock=".concat(Ye.stock),e+="&orderBy=".concat(Ye.orderBy),e+="month"===Ye.dateType?"&dateMonth=".concat(Ye.logMonthText):"","date_range"===Ye.dateType){var t=Ye.logDateRangeText?Ye.logDateRangeText.split("~"):[];e+=t[0]?"&dateFrom=".concat(t[0]):"",e+=t[1]?"&dateTo=".concat(t[1]):""}return e}));Object(n["h"])((function(){return Ye.logMonth}),(function(e){Ye.logMonthText=Z()(e,"YYYY-MM").format("MM-YYYY")})),Object(n["h"])((function(){return Ye.logDates}),(function(e){var t=e.slice();2===t.length&&Z()(t[0],"YYYY-MM-DD").toDate()>Z()(t[1],"YYYY-MM-DD").toDate()&&t.reverse(),Ye.logDateRangeText=t.map((function(e){return Z()(e,"YYYY-MM-DD").format("DD-MM-YYYY")})).join("~")}));var Te=Object(n["e"])({filters:Ye,filterQuery:Be,memberFilter:we}),xe=parseInt(Z()(W.getTime).format("YYYY")),Le=Object(n["e"])({year:xe,yearType:"financialYear",isPdfLoading:!1,isXlsxLoading:!1,resetYear:function(){this.year=xe}}),Se=Object(n["e"])({loadedAll:!1,isLoading:!1,data:[],resetData:function(){this.data=[],this.loadedAll=!1}}),Pe={searchKey:null,searchBy:null,stock:null,membershipPlan:null,orderBy:"memberNumber",dueType:null,genderType:null,showAdults:!1},Fe=Object(n["e"])(Object($["a"])(Object($["a"])({},Pe),{},{showFilterOnXs:!1,getSearchLabel:function(){switch(this.searchBy){case"memberNumber":return"Member Id";case"memberName":return"Member Name";case"bloodType":return"Blood Type";default:return"Search"}},toggleFilterOnXs:function(){this.showFilterOnXs=!this.showFilterOnXs},resetFilter:function(){for(var e in Pe)this[e]=Pe[e]},searchByFilters:[{name:"Member Id",_id:"memberNumber"},{name:"Member Name",_id:"memberName"},{name:"Blood Type",_id:"bloodType"}],searchByOrder:[{name:"Member id",orderBy:"memberNumber",orderType:1},{name:"Name",orderBy:"name",orderType:1},{name:"Recently joined",orderBy:"dateOfJoin",orderType:-1}],filterByGender:[{name:"Male",genderType:"m"},{name:"Female",genderType:"f"},{name:"Other",genderType:"o"}],filterByDues:[{name:"With dues",dueType:"withDues"},{name:"No dues",dueType:"noDues"}],membershipPlanFilters:[],isMemberClassLoaded:!1})),Ce=Object(n["a"])((function(){var e="";e+=Fe.searchKey&&Fe.searchKey.length?"&searchTerm=".concat(encodeURIComponent(Fe.searchKey)):"",e+=Fe.searchBy&&Fe.searchBy.length?"&searchBy=".concat(Fe.searchBy):"",e+=Fe.stock?"&stock=".concat(Fe.stock):"",e+=Fe.membershipPlan?"&membershipPlan=".concat(Fe.membershipPlan):"",e+=Fe.dueType?"&dueType=".concat(Fe.dueType):"",e+=Fe.showAdults?"&showAdults=true":"",e+=Fe.genderType?"&gender=".concat(Fe.genderType):"";var t=Fe.searchByOrder.find((function(e){return e.orderBy===Fe.orderBy}));return e+="&orderType=".concat(t.orderType),e+="&orderBy=".concat(t.orderBy),e})),Ae=Object(n["e"])({state:Se,filters:Fe,filterQuery:Ce}),_e=function(){se.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/membershipPlan")).then((function(e){Ie.membershipPlanFilters=e.data})).catch((function(e){return Promise.reject(e)})).finally((function(){return Ie.isMemberClassLoaded=!0}))},Ne=Object(n["e"])({loadedAll:!1,isLoading:!1,data:[],resetData:function(){this.data=[],this.loadedAll=!1}}),Re={isPdfLoading:!1,isXlsxLoading:!1,membershipPlan:null,orderBy:"memberNumber",dueType:null,genderType:null,showAdults:!1},Ie=Object(n["e"])(Object($["a"])(Object($["a"])({},Re),{},{showFilterOnXs:!1,toggleFilterOnXs:function(){this.showFilterOnXs=!this.showFilterOnXs},resetFilter:function(){for(var e in Re)this[e]=Re[e]},searchByOrder:[{name:"Member id",orderBy:"memberNumber",orderType:1},{name:"Name",orderBy:"name",orderType:1},{name:"Recently joined",orderBy:"dateOfJoin",orderType:-1}],filterByDues:[{name:"With dues",dueType:"withDues"},{name:"No dues",dueType:"noDues"}],filterByGender:[{name:"Male",genderType:"m"},{name:"Female",genderType:"f"},{name:"Other",genderType:"o"}],membershipPlanFilters:[],isMemberClassLoaded:!1,loadMemberClasses:_e})),ze=Object(n["a"])((function(){var e="";e+=Ie.membershipPlan?"&membershipPlan=".concat(Ie.membershipPlan):"",e+=Ie.dueType?"&dueType=".concat(Ie.dueType):"";var t=Ie.searchByOrder.find((function(e){return e.orderBy===Ie.orderBy}));return e+="&orderType=".concat(t.orderType),e+="&orderBy=".concat(t.orderBy),e+=Ie.showAdults?"&showAdults=true":"",e+=Ie.genderType?"&gender=".concat(Ie.genderType):"",e})),Ee=Object(n["e"])({state:Ne,filters:Ie,filterQuery:ze}),Ue=Object(n["e"])({showWindow:!1,showPlanWindow:!1,showConfirmMembershipFee:!1,showConfirmMembershipChange:!1,planFeePaid:!1,selectedYear:null,member:null,feeData:[],membershipPlans:[],membershipPlansLoading:!1,membershipPlan:null,isLoading:!1,deleteFeeDialog:!1,payUptoFeeDialog:!1,deleteFeeDate:!1,payUptoFeeDate:!1}),Ve=Object(n["e"])({state:Ue}),Ke=Object(n["e"])({loadedAll:!1,isLoading:!1,data:[],resetData:function(){this.data=[],this.loadedAll=!1},selectedBooks:[],selectedBooksDetails:[],distributeDate:null,distributeDateText:null,resetDistributeOn:function(){this.distributeDate=Z()(vt.app.getTime).format("YYYY-MM-DD")},resetSelectedBooks:function(){this.selectedBooksDetails=[],this.selectedBooks=[]}}),qe=Object(n["a"])((function(){return vt.app.getTime?vt.app.getTime.toISOString():(new Date).toISOString()})),He=Object(n["a"])((function(){return Xe.membersData.find((function(e){return e._id==Xe.member}))})),We={member:null,memberSearchKey:null,searchKey:null,searchBy:null,stock:null,type:null,purchaseDates:[],purchaseDateRangeText:null,orderBy:"lastDistributedDate"},Xe=Object(n["e"])(Object($["a"])(Object($["a"])({},We),{},{showFilterOnXs:!1,isMemberLoading:!0,toggleFilterOnXs:function(){this.showFilterOnXs=!this.showFilterOnXs},resetFilter:function(){for(var e in We)this[e]=We[e];Ke.resetSelectedBooks(),Ke.resetDistributeOn()},purchaseFilterMaxDate:qe,selectedmember:He,membersData:[],searchByTypeFilters:[],isBookTypesLoaded:!1,searchByFilters:[{name:"Book Id",_id:"bookNumber"},{name:"Book Name",_id:"bookName"},{name:"Author Name",_id:"authorName"}],searchByStock:[{name:"In",_id:1},{name:"Out",_id:2},{name:"Removed",_id:3}],searchByOrder:[{name:"Name",orderBy:"name",orderType:1},{name:"Book id",orderBy:"bookNumber",orderType:1},{name:"Recently distributed",orderBy:"lastDistributedDate",orderType:-1},{name:"Most distributed",orderBy:"distributedCount",orderType:-1},{name:"Recently added",orderBy:"dateAdded",orderType:-1}]}));Object(n["h"])((function(){return Xe.purchaseDates}),(function(e,t){var a=e.slice();2===a.length&&Z()(a[0],"YYYY-MM-DD").toDate()>Z()(a[1],"YYYY-MM-DD").toDate()&&a.reverse(),Xe.purchaseDateRangeText=a.map((function(e){return Z()(e,"YYYY-MM-DD").format("DD-MM-YYYY")})).join("~")})),Object(n["h"])((function(){return Ke.distributeDate}),(function(e,t){Ke.distributeDateText=Z()(e,"YYYY-MM-DD").format("DD-MM-YYYY")})),Object(n["h"])((function(){return Xe.purchaseDateRangeText}),(function(e,t){e||(Xe.purchaseDates=[])}));var Je=Object(n["a"])((function(){var e="";e+=Xe.searchKey&&Xe.searchKey.length?"&searchTerm=".concat(encodeURIComponent(Xe.searchKey)):"",e+=Xe.searchBy&&Xe.searchBy.length?"&searchBy=".concat(Xe.searchBy):"",e+="&stock=1",e+=Xe.type?"&type=".concat(Xe.type):"";var t=Xe.searchByOrder.find((function(e){return e.orderBy===Xe.orderBy}));if(e+="&orderType=".concat(t.orderType),e+="&orderBy=".concat(t.orderBy),Xe.purchaseDateRangeText){var a=Xe.purchaseDateRangeText.split("~");a[0]&&(e+="&dateAddedFrom=".concat(a[0])),a[1]&&(e+="&dateAddedTo=".concat(a[1]))}return e})),Qe=Object(n["e"])({state:Ke,filters:Xe,filterQuery:Je}),$e=Object(n["e"])({loadedAll:!1,isLoading:!1,data:[],resetData:function(){this.data=[],this.loadedAll=!1},selectedBooks:[],selectedBooksDetails:[],returnDate:null,returnDateText:null,resetReturnOn:function(){this.returnDate=Z()(vt.app.getTime).format("YYYY-MM-DD")},resetSelectedBooks:function(){this.selectedBooksDetails=[],this.selectedBooks=[]}}),Ge=Object(n["a"])((function(){return vt.app.getTime?vt.app.getTime.toISOString():(new Date).toISOString()})),Ze=Object(n["a"])((function(){return tt.membersData.find((function(e){return e._id==tt.member}))})),et={member:null,memberSearchKey:null,searchKey:null,searchBy:null,stock:null,type:null,distributedDates:[],distributedDateRangeText:null,orderBy:"lastDistributedDate"},tt=Object(n["e"])(Object($["a"])(Object($["a"])({},et),{},{showFilterOnXs:!1,isMemberLoading:!0,toggleFilterOnXs:function(){this.showFilterOnXs=!this.showFilterOnXs},resetFilter:function(){for(var e in et)this[e]=et[e];$e.resetSelectedBooks(),$e.resetReturnOn()},distributedFilterMaxDate:Ge,selectedmember:Ze,membersData:[],searchByTypeFilters:[],isBookTypesLoaded:!1,searchByFilters:[{name:"Book Id",_id:"bookNumber"},{name:"Book Name",_id:"bookName"},{name:"Author Name",_id:"authorName"}],searchByStock:[{name:"In",_id:1},{name:"Out",_id:2},{name:"Removed",_id:3}],searchByOrder:[{name:"Name",orderBy:"name",orderType:1},{name:"Book id",orderBy:"bookNumber",orderType:1},{name:"Recently distributed",orderBy:"lastDistributedDate",orderType:-1},{name:"Most distributed",orderBy:"distributedCount",orderType:-1},{name:"Recently added",orderBy:"dateAdded",orderType:-1}]}));Object(n["h"])((function(){return tt.distributedDates}),(function(e,t){var a=e.slice();2===a.length&&Z()(a[0],"YYYY-MM-DD").toDate()>Z()(a[1],"YYYY-MM-DD").toDate()&&a.reverse(),tt.distributedDateRangeText=a.map((function(e){return Z()(e,"YYYY-MM-DD").format("DD-MM-YYYY")})).join("~")})),Object(n["h"])((function(){return $e.returnDate}),(function(e,t){$e.returnDateText=Z()(e,"YYYY-MM-DD").format("DD-MM-YYYY")})),Object(n["h"])((function(){return tt.distributedDateRangeText}),(function(e,t){e||(tt.distributedDates=[])}));var at=Object(n["a"])((function(){var e="";e+=tt.searchKey&&tt.searchKey.length?"&searchTerm=".concat(encodeURIComponent(tt.searchKey)):"",e+=tt.searchBy&&tt.searchBy.length?"&searchBy=".concat(tt.searchBy):"",e+=tt.member?"&member=".concat(tt.member):"",e+="&stock=2",e+=tt.type?"&type=".concat(tt.type):"";var t=tt.searchByOrder.find((function(e){return e.orderBy===tt.orderBy}));if(e+="&orderType=".concat(t.orderType),e+="&orderBy=".concat(t.orderBy),tt.distributedDateRangeText){var a=tt.distributedDateRangeText.split("~");a[0]&&(e+="&lastDistributedDateFrom=".concat(a[0])),a[1]&&(e+="&lastDistributedDateTo=".concat(a[1]))}return e})),nt=Object(n["e"])({state:$e,filters:tt,filterQuery:at}),ot=Object(n["e"])({isPdfLoading:!1,isXlsxLoading:!1}),rt=Object(n["e"])({showQrCode:!1,qrCodeBook:null,showAddBookType:!1,bookData:null,editModeBookData:null,isEditMode:!1,loading:!1,dateAddedMenu:!1,invoiceDateMenu:!1,dateRemovedMenu:!1,bookRemoved:0,authorSearchKey:null,isAuthorLoading:!0,authorsData:[],typeSearchKey:null,isTypeLoading:!0,typesData:[],showAddBookModal:!1,formValid:!0,newBook:!1,nextNumberLoading:!0,nextNumber:"",form:Object(n["f"])(null)}),it=Object(n["e"])({state:rt}),st=Object(n["e"])({memberData:null,editModeMemberData:null,showPhotoWindow:!1,isEditMode:!1,loading:!1,dateOfJoinMenu:!1,dateOfBirthMenu:!1,dateRemovedMenu:!1,newMember:!1,nextNumberLoading:!0,nextNumber:"",formValid:!0,membershipPlans:[],membershipPlansLoading:!1,membershipPlan:null,form:Object(n["f"])(null)}),ct=Object(n["e"])({state:st}),lt=Object(n["e"])({loading:!0,bookCard:null,dueCard:null,graphCard:null}),ut=Object(n["e"])({state:lt}),dt=Object(n["e"])({timeOut:null,startBookDataExport:null,clearBookDataExport:null,bookDataFile:null,startMemberDataExport:null,clearMemberDataExport:null,memberDataFile:null}),mt=Object(n["e"])({state:dt}),ft=Object(n["e"])({showReportWindow:!1,reportWindowTitle:"",reportWindowApi:"",reportWindowFileName:"",reportWindowS3Info:null}),pt=ft,bt=Object(n["f"])(null),ht=Object(n["e"])({passwordFormValid:!1,showPasswordDialog:!1,currentPassword:"",newPassword:"",newPasswordConfirm:"",editName:!1,newName:"",nameLoading:!1,editEmail:!1,newEmail:"",emailLoading:!1,editAddress:!1,newAddress:"",addressLoading:!1,editPhone:!1,newPhone:"",phoneLoading:!1,logoLoading:!1,showLogoDialog:!1,logoCropperSrc:"",confirmForm:bt}),gt=ht,vt=t["a"]={app:W,loginLayout:Q,mainLayout:c,books:re,booksReport:fe,logs:ke,logsReports:Te,abstractFilters:Le,members:Ae,membersReports:Ee,distribute:Qe,returnBook:nt,memberFeeWindow:Ve,singleBook:it,singleMember:ct,dashboard:ut,bulkUpload:mt,typeWiseAbstract:ot,reports:pt,settings:gt}},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);a("4de4"),a("caad"),a("2532"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=a("a6f4");n["default"].use(o["b"]);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("AppMisc"),e.isLoggedIn?a("MainLayout"):a("LoginLayout")],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-sheet",{staticClass:"main-layout-sheet"},[a("v-app-bar",{ref:"siteHeader",attrs:{dense:e.dense,app:"",outlined:"",elevation:"0"}},[a("v-app-bar-nav-icon",{on:{click:function(t){return t.stopPropagation(),e.toggleDrawer()}}}),a("v-toolbar-title",[e._v(e._s(e.title))]),a("v-spacer"),a("v-menu",{attrs:{tile:"","offset-y":"",bottom:"",rounded:!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[a("v-list-item-avatar",e._g(e._b({},"v-list-item-avatar",o,!1),n),[e.libraryHasLogo?a("v-img",{attrs:{src:e.libraryLogoUrl}}):a("v-icon",{attrs:{size:"35"}},[e._v("mdi-account-circle")])],1)]}}])},[a("v-list",{staticClass:"py-0",attrs:{tile:""}},[a("v-list-item",{attrs:{to:"/settings",link:""}},[a("v-list-item-title",[a("v-icon",{staticClass:"mr-2",attrs:{size:"15"}},[e._v("mdi-hammer-screwdriver")]),e._v("Settings")],1)],1),a("v-list-item",{attrs:{link:""},on:{click:e.logout}},[a("v-list-item-title",[a("v-icon",{staticClass:"mr-2",attrs:{size:"15"}},[e._v("mdi-logout")]),e._v("Logout")],1)],1)],1)],1)],1),a("v-navigation-drawer",{attrs:{app:"",absolute:"",temporary:e.isTemporary,permanent:e.sidebarMenu,"mini-variant":e.mini},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.sidebarMenu,callback:function(t){e.sidebarMenu=t},expression:"sidebarMenu"}},[a("smooth-scrollbar",[a("v-list",{class:[e.mini?"d-none":""]},[e.mini?e._e():a("v-list-item",{staticClass:"px-4"},[a("v-list-item-content",[a("v-list-item-title",[e._v("Total Library")])],1)],1),e.mini?e._e():a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title",staticStyle:{"min-height":"24px"}},[e._v(" "+e._s(e.libraryName)+" ")]),a("v-list-item-subtitle",{staticStyle:{"min-height":"16px"}},[e._v(" "+e._s(e.libraryEmail)+" ")])],1)],1)],1),a("v-list",{staticClass:"pt-0"},[a("v-list-item",{attrs:{link:"",to:"/"},on:{click:e.hideSideBar}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-view-dashboard")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Dashboard")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/books"},on:{click:e.hideSideBar}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-bookshelf")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Books")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/distribute"},on:{click:e.hideSideBar}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-call-split")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Distribute")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/return"},on:{click:e.hideSideBar}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-call-merge")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Return")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/members"},on:{click:e.hideSideBar}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-account-group")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Members")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/logs"},on:{click:e.hideSideBar}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-file")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Logs")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/reports"},on:{click:e.hideSideBar}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-post-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Reports")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/bulkUpload"},on:{click:e.hideSideBar}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-upload")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Bulk Upload")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/settings"},on:{click:e.hideSideBar}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-hammer-screwdriver")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Settings")])],1)],1)],1)],1)],1),a("v-main",[a("v-row",{staticClass:"fill-height mx-0"},[a("v-col",{staticClass:"px-0 py-0 my-0"},[a("transition",{attrs:{name:"fade"}},[a("div",{ref:"mainContentsParent",staticClass:"main-contents-parent"},[a("Suspense",{attrs:{delay:200}},[a("MainPageSkeltonLoader",{attrs:{slot:"fallback"},slot:"fallback"}),e.libraryBasicDetailsLoaded?a("router-view"):a("MainPageSkeltonLoader")],1)],1)])],1)],1)],1)],1)],1)},c=[],l=(a("b0c0"),a("6211")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("smooth-scrollbar",[a("v-progress-linear",{attrs:{indeterminate:""}}),a("v-skeleton-loader",{attrs:{type:"card-avatar, article"}})],1)},d=[],m=a("2877"),f=a("6544"),p=a.n(f),b=a("8e36"),h=a("3129"),g={},v=Object(m["a"])(g,u,d,!1,null,null,null),y=v.exports;p()(v,{VProgressLinear:b["a"],VSkeletonLoader:h["a"]});var D=a("4360"),k=D["a"].mainLayout.state,w={setup:l["i"],components:{MainPageSkeltonLoader:y},mounted:function(){var e=this,t=this.$refs.mainContentsParent,a=this.$refs.siteHeader,n=function(e,t){D["a"][e].filters.searchKey=t},o=function(){t.style.height=window.innerHeight-a.$el.offsetHeight+"px",e.windowWidth=window.innerWidth,e.windowHeight=window.innerHeight};o(),window.onresize=o,window.onkeyup=function(e){if(["books","distribute","returnBook"].includes(D["a"].app.getRoute.current.name))if(isNaN(e.key))k.scannerInput="";else{var t=k.lastKeyPress,a=new Date;if(k.lastKeyPress=a,t){var o=a-t;o<=30?(("v"===k.scannerInput||"V"===k.scannerInput&&"Control"===e.key)&&"INPUT"!==document.activeElement.tagName&&navigator.clipboard.readText().then((function(e){n(D["a"].app.getRoute.current.name,e)})),13!==e.keyCode&&(k.scannerInput+=e.key,clearTimeout(k.keyUpTimeout),k.keyUpTimeout=setTimeout((function(){k.scannerInput.length&&!isNaN(k.scannerInput)&&"INPUT"!==document.activeElement.tagName&&n(D["a"].app.getRoute.current.name,k.scannerInput),k.scannerInput=""}),40))):(k.scannerInput+=e.key,clearTimeout(k.keyUpTimeout),k.keyUpTimeout=setTimeout((function(){k.scannerInput=""}),40))}else k.scannerInput+=e.key,clearTimeout(k.keyUpTimeout),k.keyUpTimeout=setTimeout((function(){k.scannerInput=""}),40)}}}},j=w,M=a("7496"),O=a("40dc"),Y=a("5bc1"),B=a("62ad"),T=a("132d"),x=a("adda"),L=a("8860"),S=a("da13"),P=a("8270"),F=a("5d23"),C=a("34c3"),A=a("f6c4"),_=a("e449"),N=a("f774"),R=a("0fd9"),I=a("8dd9"),z=a("2fa4"),E=a("2a7f"),U=Object(m["a"])(j,s,c,!1,null,null,null),V=U.exports;p()(U,{VApp:M["a"],VAppBar:O["a"],VAppBarNavIcon:Y["a"],VCol:B["a"],VIcon:T["a"],VImg:x["a"],VList:L["a"],VListItem:S["a"],VListItemAvatar:P["a"],VListItemContent:F["a"],VListItemIcon:C["a"],VListItemSubtitle:F["b"],VListItemTitle:F["c"],VMain:A["a"],VMenu:_["a"],VNavigationDrawer:N["a"],VRow:R["a"],VSheet:I["a"],VSpacer:z["a"],VToolbarTitle:E["a"]});var K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-row",{staticClass:"d-flex align-center"},[a("v-card",{staticClass:"mx-auto pb-8 px-9",attrs:{tile:"",width:e.width,outlined:"",disabled:e.loading,loading:e.loading,elevation:"2"}},[a("v-form",{ref:"form",staticClass:"pt-4",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.validate(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{ref:"usernameInput",staticClass:"my-5",attrs:{placeholder:" ",rules:e.nameRules,label:"Username",required:"",error:e.usernameError.length>0,"error-messages":e.usernameError,tabindex:"1"},on:{keydown:function(t){e.usernameError=""}},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),a("v-text-field",{ref:"passwordInput",staticClass:"my-5 mb-0",attrs:{placeholder:" ",rules:e.passwordRules,label:"Password",required:"",error:e.passwordError.length>0,"error-messages":e.passwordError,"append-icon":e.showEye?"mdi-eye":"mdi-eye-off",type:e.showEye?"text":"password",tabindex:"2"},on:{keydown:function(t){e.passwordError=""},"click:append":function(t){e.showEye=!e.showEye}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-col",{staticClass:"pa-0",attrs:{sm:"12"}},[a("v-checkbox",{staticClass:"keep-signed-in mt-0",attrs:{label:"Keep me signed in"},model:{value:e.keepSignedIn,callback:function(t){e.keepSignedIn=t},expression:"keepSignedIn"}})],1),a("v-btn",{staticClass:"mr-4",attrs:{type:"submit",tile:"",disabled:!e.valid,color:"success",tabindex:"3"}},[e._v(" Login ")])],1)],1)],1)],1)},q=[],H={setup:l["g"]},W=H,X=a("8336"),J=a("b0af"),Q=a("ac7c"),$=a("4bd4"),G=a("8654"),Z=Object(m["a"])(W,K,q,!1,null,null,null),ee=Z.exports;p()(Z,{VApp:M["a"],VBtn:X["a"],VCard:J["a"],VCheckbox:Q["a"],VCol:B["a"],VForm:$["a"],VRow:R["a"],VTextField:G["a"]});var te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:e.isLoaderShown,callback:function(t){e.isLoaderShown=t},expression:"isLoaderShown"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[e._v(" "+e._s(e.loaderMessage)+" "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-snackbar",{attrs:{width:"auto",top:"",tile:"",timeout:3e3},model:{value:e.isSnackBarShown,callback:function(t){e.isSnackBarShown=t},expression:"isSnackBarShown"}},[e._v(" "+e._s(e.snackBarText)+" "),a("v-btn",{staticStyle:{float:"right"},attrs:{color:"blue",text:"","x-small":""},on:{click:function(t){return e.setSnackBar(!1)}}},[e._v(" Close ")])],1),a("v-dialog",{attrs:{width:"500"},model:{value:e.isDialogShow,callback:function(t){e.isDialogShow=t},expression:"isDialogShow"}},[a("v-card",[""!==e.dialogHeader?a("v-toolbar",{attrs:{color:e.dialogType,dark:""}},[a("span",[e._v(" "+e._s(e.dialogHeader))])]):e._e(),a("v-card-text",{staticClass:"pt-6"},[e._v(" "+e._s(e.dialogMessage)+" ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",tile:"",text:""},on:{click:e.hideDialog}},[e._v(" Ok ")])],1)],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:e.isConfirmShow,callback:function(t){e.isConfirmShow=t},expression:"isConfirmShow"}},[a("v-card",[""!==e.confirmHeader?a("v-toolbar",{attrs:{color:e.confirmType,dark:""}},[a("span",[e._v(" "+e._s(e.confirmHeader))])]):e._e(),a("v-card-text",{staticClass:"pt-6"},[e._v(" "+e._s(e.confirmMessage)+" "),a("v-form",{ref:"confirmForm",attrs:{autocomplete:"off","lazy-validation":""},model:{value:e.confirmFormValid,callback:function(t){e.confirmFormValid=t},expression:"confirmFormValid"}},[e.confirmInput?a("v-text-field",{attrs:{type:e.confirmInput,name:"confirmInput",id:"confirmInput",rules:[function(e){return!(!e||!e.trim().length)||"Required"}]},model:{value:e.confirmInputValue,callback:function(t){e.confirmInputValue=t},expression:"confirmInputValue"}}):e._e()],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{tile:"",color:e.confirmType,text:""},on:{click:e.confirmCancel}},[e._v(" "+e._s(e.confirmCancelText)+" ")]),a("v-btn",{class:e.confirmType,attrs:{tile:"",text:""},on:{click:e.confirmCallback}},[e._v(" "+e._s(e.confirmOkText)+" ")])],1)],1)],1)],1)},ae=[],ne=a("5530"),oe={setup:function(){return Object(ne["a"])({},Object(o["g"])(D["a"].app))}},re=oe,ie=a("99d9"),se=a("169a"),ce=a("ce7e"),le=a("2db4"),ue=a("71d9"),de=Object(m["a"])(re,te,ae,!1,null,null,null),me=de.exports;p()(de,{VBtn:X["a"],VCard:J["a"],VCardActions:ie["a"],VCardText:ie["b"],VDialog:se["a"],VDivider:ce["a"],VForm:$["a"],VProgressLinear:b["a"],VSnackbar:le["a"],VSpacer:z["a"],VTextField:G["a"],VToolbar:ue["a"]});var fe={components:{MainLayout:V,LoginLayout:ee,AppMisc:me},setup:l["a"]},pe=fe,be=Object(m["a"])(pe,r,i,!1,null,null,null),he=be.exports,ge=(a("d3b7"),a("8c4f")),ve=a("14b6"),ye=a.n(ve),De=function(e,t){D["a"].app.setRoute({previous:t,current:e}),e.meta.bigHeader?D["a"].mainLayout.smallHeader(!1):D["a"].mainLayout.smallHeader(),document.title=e.meta.title,D["a"].app.setTitle(e.meta.title),D["a"].mainLayout.state.title=e.meta.title};n["default"].use(ge["a"]);var ke=[{path:"/",name:"dashboard",meta:{bigHeader:!0,title:"Dashboard"},component:Object(ve["lazy"])((function(){return a.e("dashboard").then(a.bind(null,"7277"))}))},{path:"/books",name:"books",meta:{title:"Books"},component:Object(ve["lazy"])((function(){return Promise.all([a.e("books~distribute~logs~reports~return~singleBook~singleMember"),a.e("books")]).then(a.bind(null,"4de9"))}))},{path:"/logs",name:"logs",meta:{title:"Logs"},component:Object(ve["lazy"])((function(){return Promise.all([a.e("books~distribute~logs~reports~return~singleBook~singleMember"),a.e("logs")]).then(a.bind(null,"bbae"))}))},{path:"/reports",name:"reports",meta:{title:"Reports"},component:Object(ve["lazy"])((function(){return Promise.all([a.e("books~distribute~logs~reports~return~singleBook~singleMember"),a.e("reports")]).then(a.bind(null,"c11b"))}))},{path:"/books/addNew",name:"new_book",meta:{title:"Add new book"},component:Object(ve["lazy"])((function(){return Promise.all([a.e("books~distribute~logs~reports~return~singleBook~singleMember"),a.e("singleBook")]).then(a.bind(null,"9c9b"))}))},{path:"/books/:id",name:"single_book",meta:{title:"Book details"},component:Object(ve["lazy"])((function(){return Promise.all([a.e("books~distribute~logs~reports~return~singleBook~singleMember"),a.e("singleBook")]).then(a.bind(null,"9c9b"))}))},{path:"/distribute",name:"distribute",meta:{title:"Distribute"},component:Object(ve["lazy"])((function(){return Promise.all([a.e("books~distribute~logs~reports~return~singleBook~singleMember"),a.e("distribute")]).then(a.bind(null,"ed89"))}))},{path:"/return",name:"returnBook",meta:{title:"Return"},component:Object(ve["lazy"])((function(){return Promise.all([a.e("books~distribute~logs~reports~return~singleBook~singleMember"),a.e("return")]).then(a.bind(null,"baea"))}))},{path:"/members",name:"members",meta:{title:"Members"},component:Object(ve["lazy"])((function(){return a.e("members").then(a.bind(null,"69dc"))}))},{path:"/members/addNew",name:"new_member",meta:{title:"Add member details"},component:Object(ve["lazy"])((function(){return Promise.all([a.e("books~distribute~logs~reports~return~singleBook~singleMember"),a.e("settings~singleMember"),a.e("singleMember")]).then(a.bind(null,"594f"))}))},{path:"/members/:id",name:"single_member",meta:{title:"Member details"},component:Object(ve["lazy"])((function(){return Promise.all([a.e("books~distribute~logs~reports~return~singleBook~singleMember"),a.e("settings~singleMember"),a.e("singleMember")]).then(a.bind(null,"594f"))}))},{path:"/bulkUpload",name:"bulk_upload",meta:{title:"Bulk Upload"},component:Object(ve["lazy"])((function(){return a.e("bulkUpload").then(a.bind(null,"afd9"))}))},{path:"/settings",name:"settings",meta:{title:"Settings"},component:Object(ve["lazy"])((function(){return Promise.all([a.e("settings~singleMember"),a.e("settings")]).then(a.bind(null,"26d3"))}))},{path:"*",name:"404_not_found",meta:{title:"Page not found"},component:Object(ve["lazy"])((function(){return a.e("notFound").then(a.bind(null,"9703"))}))}],we=new ge["a"]({mode:"hash",base:"/",routes:ke});we.beforeEach((function(e,t,a){De(e,t),a()}));var je=we,Me=a("f309");n["default"].use(Me["a"]);var Oe=new Me["a"]({}),Ye=a("7726"),Be=a("a563"),Te=(a("bc3a"),a("ce96")),xe=a("1321"),Le=a.n(xe),Se=a("ae1a"),Pe=a.n(Se),Fe=a("c1df"),Ce=a.n(Fe),Ae=a("1249"),_e=a("b6d0");a("bf40"),a("a0d8"),a("b6e1"),a("71fd");Te["a"].setupinterceptor(),n["default"].config.productionTip=!1,n["default"].use(ye.a),n["default"].use(Ye["a"]),n["default"].use(Le.a),n["default"].component("apexchart",Le.a),n["default"].use(Pe.a),n["default"].use(_e["a"],{placeholders:{P:/[0-9]|\+/}}),n["default"].component("v-text-field",G["a"]),n["default"].use(Be["a"],{autoDecimalMode:!1}),n["default"].use(Ae["a"],{vuetify:Oe}),Te["a"].vueAddTimeFomats(n["default"]),n["default"].filter("formatDate",(function(e){if(e)return Ce()(e).format("DD-MM-YYYY")})),n["default"].config.errorHandler=function(e,t,a){e.stack.includes("SmoothScrollbar.vue")},new n["default"]({router:je,vuetify:Oe,render:function(e){return e(he)}}).$mount("#app")},6211:function(e,t,a){"use strict";a.d(t,"i",(function(){return m})),a.d(t,"g",(function(){return D})),a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return S})),a.d(t,"h",(function(){return E})),a.d(t,"k",(function(){return $})),a.d(t,"e",(function(){return ie})),a.d(t,"f",(function(){return Be})),a.d(t,"m",(function(){return he})),a.d(t,"n",(function(){return Ce})),a.d(t,"j",(function(){return ct})),a.d(t,"p",(function(){return Bt})),a.d(t,"q",(function(){return Jt})),a.d(t,"d",(function(){return ea})),a.d(t,"l",(function(){return ca})),a.d(t,"c",(function(){return ra})),a.d(t,"o",(function(){return Ma}));var n,o=a("5530"),r=a("4360"),i=a("bc3a"),s=a.n(i),c=a("a6f4"),l=a("ce96"),u=r["a"].mainLayout.state,d=function(){window.innerWidth<=748&&(u.sidebarMenu=!1)},m=function(e,t){t.root;Object(c["d"])((function(){document.querySelector(".main-layout-sheet").addEventListener("click",(function(e){e.target===document.querySelector(".main-layout-sheet>.v-overlay>.v-overlay__scrim")&&(u.sidebarMenu=!1)}))})),"sm"!==r["a"].app.getScreenSize&&"xs"!=r["a"].app.getScreenSize||r["a"].mainLayout.toggleDrawer();var a=function(){r["a"].app.showLoader("Logging out..."),s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/logout")).then((function(){r["a"].app.logOut()})).catch((function(){r["a"].app.showAlert("Some error occured!")}))};return l["a"].getLibraryData(),Object(o["a"])(Object(o["a"])({},Object(c["g"])(u)),{},{hideSideBar:d,logout:a,toggleDrawer:r["a"].mainLayout.toggleDrawer,isTemporary:r["a"].mainLayout.isTemporary})},f=(a("b0c0"),function(){var e=new Date;s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/noauth","/time")).then((function(t){var a=new Date,n=new Date(t.data),o=a-e,i=new Date(n.getTime()-o/2);r["a"].app.setTime(l["a"].convertToIst(i)),setInterval((function(){r["a"].app.setTime(new Date(r["a"].app.getTime.getTime()+1e3))}),1e3)}))}),p=function(e,t){var a=t.root;if(f(),r["a"].app.setScreenSize(Object(c["a"])((function(){return a.$vuetify.breakpoint.name}))),Object(c["h"])((function(){return r["a"].app.getTitle}),(function(e){document.title=e})),!r["a"].app.isLoggedIn){var n=l["a"].localStorage.getItem("logged_in");n&&r["a"].app.logIn()}return Object(o["a"])({},Object(c["g"])(r["a"].app))},b=(a("d3b7"),Object(c["f"])("")),h=Object(c["f"])(""),g=Object(c["f"])(!1),v=Object(c["a"])((function(){switch(r["a"].app.getScreenSize){case"xs":return 320;case"sm":return 500;case"md":return 500;case"lg":return 550;case"xl":return 550}})),y=function(){var e=r["a"].loginLayout.state.userName,t=r["a"].loginLayout.state.password,a=r["a"].loginLayout.state.keepSignedIn;r["a"].loginLayout.state.loading=!0,s.a.post("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/noauth","/accesstoken"),{username:e,password:t,grant_type:"password",keep_signed_in:a,set_cookie:!0}).then((function(e){r["a"].loginLayout.state.userName=r["a"].loginLayout.state.password="",r["a"].app.logIn(),l["a"].localStorage.setItem("logged_in",!0),l["a"].localStorage.setItem("keep_signed_in",a)})).catch((function(e){var t,a,n=e.response;"password"==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.feild)?h.value=n.data.message:"username"==(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.feild)?b.value=n.data.message:r["a"].app.showAlert("Some error occured!")})).finally((function(){r["a"].loginLayout.state.loading=!1}))},D=function(e,t){t.root;var a=Object(c["f"])(null),n=Object(c["f"])(null),i=Object(c["f"])(null),s=r["a"].loginLayout.state,l=function(){a.value.validate()&&y()},u=[function(e){return!!e||(b.value.length?b.value:"Username is required")}],d=[function(e){return!!e||(h.value.length?h.value:"Password is required")}];return setTimeout((function(){n.value.$el.querySelector("input").focus()}),0),Object(o["a"])(Object(o["a"])({},Object(c["g"])(s)),{},{valid:!0,nameRules:u,passwordRules:d,form:a,usernameInput:n,passwordInput:i,validate:l,usernameError:b,passwordError:h,attemptLogin:y,showEye:g,width:v})},k=(a("99af"),a("2909")),w=r["a"].books.state,j=r["a"].books.filters,M=Object(c["a"])((function(){return!w.loadedAll&&!w.data.length})),O=Object(c["a"])((function(){return w.loadedAll&&!w.data.length})),Y=Object(c["a"])((function(){return!w.data.length})),B=function(){s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book/type")).then((function(e){j.searchByTypeFilters=e.data})).catch((function(e){return Promise.reject(e)})).finally((function(){return j.isBookTypesLoaded=!0}))},T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(w.data=[],w.loadedAll=!1),!w.isLoading&&!w.loadedAll||e){w.isLoading=!0;var t=w.data.length;n&&n.cancel("Operation canceled due to new request."),n=s.a.CancelToken.source();var a="?skip=".concat(t,"&limit=").concat("24").concat(r["a"].books.filterQuery);s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book").concat(a),{cancelToken:n.token}).then((function(e){var t;(t=w.data).push.apply(t,Object(k["a"])(e.data.data)),w.loadedAll=!e.data.nextPage})).finally((function(){return w.isLoading=!1})).catch((function(e){return Promise.reject(e)}))}};Object(c["h"])((function(){return r["a"].books.filterQuery}),(function(e,t){e!=t&&T(!0)}));var x,L,S=function(e,t){t.root;var a=Object(c["f"])(null);return w.showQrCode=!1,Object(c["d"])((function(){j.isBookTypesLoaded||B(),l["a"].vueBarEvents(a.value,{onScrollToBottom:function(){T()},scrollToBottomOffset:380}),r["a"].books.state.data.length||T()})),Object(o["a"])(Object(o["a"])({},Object(c["g"])(r["a"].books.state)),{},{isLargeLoading:M,scrollable:a,isEmpty:Y,noRecordsFound:O,onMounted:c["d"],loadNextPage:T})},P=r["a"].logs.state,F=r["a"].logs.filters,C=Object(c["a"])((function(){return!P.loadedAll&&!P.data.length})),A=Object(c["a"])((function(){return P.loadedAll&&!P.data.length})),_=Object(c["a"])((function(){return!P.data.length})),N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&P.resetData(),!P.isLoading&&!P.loadedAll||e){P.isLoading=!0;var t=P.data.length;x&&x.cancel("Operation canceled due to new request."),x=s.a.CancelToken.source();var a="?skip=".concat(t,"&limit=").concat("24").concat(r["a"].logs.filterQuery);s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/log").concat(a),{cancelToken:x.token}).then((function(e){var t;(t=P.data).push.apply(t,Object(k["a"])(e.data.data)),P.loadedAll=!e.data.nextPage})).finally((function(){return P.isLoading=!1})).catch((function(e){return Promise.reject(e)}))}},R=function(e){F.isMemberLoading=!0,L&&L.cancel("Operation canceled due to new request."),L=s.a.CancelToken.source();var t=e&&e.length?"&searchTerm="+encodeURIComponent(e):"";s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member?limit=40").concat(t,"&nameAndIdOnly=true"),{cancelTokenMembers:L.token}).then((function(e){F.isMemberLoading=!1,F.membersData=e.data.data})).catch((function(e){return Promise.reject(e)}))};Object(c["h"])((function(){return F.memberSearchKey}),(function(e,t){R(e)})),Object(c["h"])((function(){return r["a"].logs.filterQuery}),(function(e,t){e&&e!=t&&N(!0)}));var I,z,E=function(e,t){t.root;var a=Object(c["f"])(null);return Object(c["d"])((function(){F.isMemberLoading&&!F.membersData.length&&R(""),l["a"].vueBarEvents(a.value,{onScrollToBottom:function(){N()},scrollToBottomOffset:323}),r["a"].logs.state.data.length||N()})),Object(o["a"])(Object(o["a"])({},Object(c["g"])(r["a"].logs.state)),{},{isLargeLoading:C,scrollable:a,isEmpty:_,noRecordsFound:A,onMounted:c["d"]})},U=(a("ac1f"),a("5319"),r["a"].members.state),V=r["a"].members.filters,K=Object(c["a"])((function(){return!U.loadedAll&&!U.data.length})),q=Object(c["a"])((function(){return U.loadedAll&&!U.data.length})),H=Object(c["a"])((function(){return!U.data.length})),W=function(){s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/membershipPlan")).then((function(e){V.membershipPlanFilters=e.data})).catch((function(e){return Promise.reject(e)})).finally((function(){return V.isMemberClassLoaded=!0}))},X=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(U.data=[],U.loadedAll=!1),!U.isLoading&&!U.loadedAll||e){U.isLoading=!0;var t=U.data.length;I&&I.cancel("Operation canceled due to new request."),I=s.a.CancelToken.source();var a="?skip=".concat(t,"&limit=").concat("24").concat(r["a"].members.filterQuery);s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member").concat(a),{cancelToken:I.token}).then((function(e){var t;(t=U.data).push.apply(t,Object(k["a"])(e.data.data)),U.loadedAll=!e.data.nextPage})).finally((function(){return U.isLoading=!1})).catch((function(e){return Promise.reject(e)}))}},J=function(){var e=z.history.current.query;e.withDues&&"true"==e.withDues&&(V.dueType="withDues",z.replace("/members"))};Object(c["h"])((function(){return r["a"].members.filterQuery}),(function(e,t){e!=t&&X(!0)}));var Q,$=function(e,t){var a=t.root;r["a"].memberFeeWindow.state.showWindow=!1,z=a._router;var n=Object(c["f"])(null);return Object(c["c"])((function(){J()})),Object(c["d"])((function(){V.isMemberClassLoaded||W(),l["a"].vueBarEvents(n.value,{onScrollToBottom:function(){X()},scrollToBottomOffset:290}),r["a"].members.state.data.length||X()})),Object(o["a"])(Object(o["a"])({},Object(c["g"])(r["a"].members.state)),{},{isLargeLoading:K,scrollable:n,isEmpty:H,noRecordsFound:q,loadNextPage:X})},G=(a("7db0"),a("c740"),a("a434"),r["a"].distribute.state),Z=r["a"].distribute.filters,ee=Object(c["a"])((function(){return!G.loadedAll&&!G.data.length})),te=Object(c["a"])((function(){return G.loadedAll&&!G.data.length})),ae=Object(c["a"])((function(){return!G.data.length})),ne=function(){s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book/type")).then((function(e){Z.searchByTypeFilters=e.data})).catch((function(e){return Promise.reject(e)})).finally((function(){return Z.isBookTypesLoaded=!0}))},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(G.data=[],G.loadedAll=!1),!G.isLoading&&!G.loadedAll||e){G.isLoading=!0;var t=G.data.length;Q&&Q.cancel("Operation canceled due to new request."),Q=s.a.CancelToken.source();var a="?skip=".concat(t,"&limit=").concat("24").concat(r["a"].distribute.filterQuery);s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book").concat(a),{cancelToken:Q.token}).then((function(e){var t;(t=G.data).push.apply(t,Object(k["a"])(e.data.data)),G.loadedAll=!e.data.nextPage})).finally((function(){return G.isLoading=!1})).catch((function(e){return Promise.reject(e)}))}};Object(c["h"])((function(){return r["a"].distribute.filterQuery}),(function(e,t){e!=t&&oe(!0)})),Object(c["h"])((function(){return G.selectedBooks}),(function(e,t){if(t.length>e.length){var a=l["a"].arrDiff(t,e)[0],n=G.selectedBooksDetails.findIndex((function(e){return e._id===a}));n>=0&&G.selectedBooksDetails.splice(n,1)}else{var o=l["a"].arrDiff(e,t)[0],r=G.data.find((function(e){return e._id===o}));r&&G.selectedBooksDetails.push(r)}}));var re,ie=function(e,t){t.root;var a=Object(c["f"])(null);return Object(c["d"])((function(){Z.isBookTypesLoaded||ne(),l["a"].vueBarEvents(a.value,{onScrollToBottom:function(){oe()},scrollToBottomOffset:323}),G.data.length||oe(),G.resetDistributeOn()})),Object(o["a"])(Object(o["a"])({},Object(c["g"])(G)),{},{isLargeLoading:ee,scrollable:a,isEmpty:ae,noRecordsFound:te,onMounted:c["d"],loadNextPage:oe})},se=r["a"].returnBook.state,ce=r["a"].returnBook.filters,le=Object(c["a"])((function(){return!se.loadedAll&&!se.data.length})),ue=Object(c["a"])((function(){return se.loadedAll&&!se.data.length})),de=Object(c["a"])((function(){return!se.data.length})),me=function(){s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book/type")).then((function(e){ce.searchByTypeFilters=e.data})).catch((function(e){return Promise.reject(e)})).finally((function(){return ce.isBookTypesLoaded=!0}))},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(se.data=[],se.loadedAll=!1),!se.isLoading&&!se.loadedAll||e){se.isLoading=!0;var t=se.data.length;re&&re.cancel("Operation canceled due to new request."),re=s.a.CancelToken.source();var a="?skip=".concat(t,"&limit=").concat("24").concat(r["a"].returnBook.filterQuery);s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book").concat(a),{cancelToken:re.token}).then((function(e){var t;(t=se.data).push.apply(t,Object(k["a"])(e.data.data)),se.loadedAll=!e.data.nextPage})).finally((function(){return se.isLoading=!1})).catch((function(e){}))}};Object(c["h"])((function(){return r["a"].returnBook.filterQuery}),(function(e,t){e!=t&&fe(!0)})),Object(c["h"])((function(){return se.selectedBooks}),(function(e,t){if(t.length>e.length){var a=l["a"].arrDiff(t,e)[0],n=se.selectedBooksDetails.findIndex((function(e){return e._id===a}));n>=0&&se.selectedBooksDetails.splice(n,1)}else{var o=l["a"].arrDiff(e,t)[0],r=se.data.find((function(e){return e._id===o}));r&&se.selectedBooksDetails.push(r)}}));var pe,be,he=function(e,t){t.root;var a=Object(c["f"])(null);return Object(c["d"])((function(){ce.isBookTypesLoaded||me(),l["a"].vueBarEvents(a.value,{onScrollToBottom:function(){fe()},scrollToBottomOffset:323}),se.data.length||fe(),se.resetReturnOn()})),Object(o["a"])(Object(o["a"])({},Object(c["g"])(se)),{},{isLargeLoading:le,scrollable:a,isEmpty:de,noRecordsFound:ue,onMounted:c["d"],loadNextPage:fe})},ge=(a("caad"),a("2532"),a("498a"),r["a"].distribute.filters),ve=r["a"].distribute.state,ye=Object(c["f"])(null);window.kk=ye;var De=function(){r["a"].returnBook.state.resetData(),r["a"].books.state.resetData(),r["a"].logs.state.resetData(),ve.resetSelectedBooks(),ge.member=null},ke=function(e){r["a"].app.showLoader("Distributing..."),s.a.post("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book/distribute"),{books:ve.selectedBooks,member:ge.selectedmember._id,outDate:ve.distributeDateText}).then((function(){De(),be&&be(!0),r["a"].app.showAlert("Distributed successfully."),ge.searchKey="",e&&e()})).catch((function(e){if(400!==e.response.status)return Promise.reject(e);r["a"].app.showAlert(e.response.data.message)})).finally((function(){r["a"].app.hideLoader()}))},we=function(e){r["a"].app.showLoader("Checking for dues..."),s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/").concat(ge.selectedmember._id)).then((function(t){var a=t.data.dues.dueAmount>0?t.data.dues.dueAmount:0;t.data.isMemberShipPlanFeesPaid||0!==a||(a+=t.data.membershipPlan.amount),a<=0?ke(e):r["a"].app.showConfirm({title:"This member has dues",type:"warning",content:"This member has a due of ₹".concat(a,", are you sure to continue distributing?"),okText:"Ignore and continue",cancel:function(){e&&e()},callback:function(t){ke(e)}})})).catch((function(e){return Promise.reject(e)})).finally((function(){r["a"].app.hideLoader()}))},je=function(e){ge.isMemberLoading=!0,pe&&pe.cancel("Operation canceled due to new request."),pe=s.a.CancelToken.source();var t=e&&e.length?"&searchTerm="+encodeURIComponent(e):"";s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member?limit=40").concat(t,"&nameAndIdOnly=true"),{cancelToken:pe.token}).then((function(e){ge.isMemberLoading=!1,ge.membersData=e.data.data})).catch((function(e){return Promise.reject(e)}))};Object(c["h"])((function(){return ge.memberSearchKey}),(function(e){je(e)}));var Me,Oe,Ye=function(e,t){t=t.trim().toLocaleLowerCase();var a=e.name.trim().toLocaleLowerCase(),n=1===t.length&&t==a[0]||t.length>1&&a.includes(t),o=!isNaN(t)&&t==e.memberNumber;return!t.length||n||o},Be=function(e){return be=e.loadNextPage,ge.isMemberLoading&&!ge.membersData.length&&je(""),Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["g"])(ge)),Object(c["g"])(ve)),{},{filterMembers:Ye,searchInput:ye,purchaseDateMenu:!1,distributeOnMenu:!1,initiateDistribute:we,statusColors:{1:"green",2:"orange",3:"grey"}})},Te=r["a"].returnBook.filters,xe=r["a"].returnBook.state,Le=function(){r["a"].distribute.state.resetData(),r["a"].books.state.resetData(),r["a"].logs.state.resetData(),xe.resetSelectedBooks(),Te.member=null},Se=function(e){r["a"].app.showLoader("Returning..."),s.a.post("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book/return"),{books:xe.selectedBooks,inDate:xe.returnDateText}).then((function(){Le(),Oe&&Oe(!0),r["a"].app.showAlert("Returned successfully."),e&&e()})).catch((function(e){if(400!==e.response.status)return Promise.reject(e);r["a"].app.showAlert(e.response.data.message)})).finally((function(){r["a"].app.hideLoader()}))},Pe=function(e){Te.isMemberLoading=!0,Me&&Me.cancel("Operation canceled due to new request."),Me=s.a.CancelToken.source();var t=e&&e.length?"&searchTerm="+encodeURIComponent(e):"";s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member?limit=40").concat(t,"&nameAndIdOnly=true"),{cancelToken:Me.token}).then((function(e){Te.isMemberLoading=!1,Te.membersData=e.data.data})).catch((function(e){return Promise.reject(e)}))};Object(c["h"])((function(){return Te.memberSearchKey}),(function(e,t){Pe(e)}));var Fe=function(e,t){t=t.trim().toLocaleLowerCase();var a=e.name.trim().toLocaleLowerCase(),n=1===t.length&&t==a[0]||t.length>1&&a.includes(t),o=!isNaN(t)&&t==e.memberNumber;return!t.length||n||o},Ce=function(e){return Oe=e.loadNextPage,Te.isMemberLoading&&!Te.membersData.length&&Pe(""),Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["g"])(Te)),Object(c["g"])(xe)),{},{distributedDateMenu:!1,returnOnMenu:!1,filterMembers:Fe,initiateReturn:Se,statusColors:{1:"green",2:"orange",3:"grey"}})},Ae=(a("cb29"),a("c1df")),_e=a.n(Ae),Ne=r["a"].memberFeeWindow.state,Re=Object(c["a"])((function(){for(var e=[],t=new Date(Ne.member.dateOfJoin).getFullYear(),a=2050,n=t;n<=a;n++)e.push(n);return e})),Ie=Object(c["a"])((function(){var e=Ne.feeData;if(e.length){var t=new Date(e[0].payedForMonth);e.unshift.apply(e,Object(k["a"])(Array(t.getMonth()).fill(!1)))}return e})),ze=Object(c["a"])((function(){return Ne.member?Ne.member._id+"_"+Ne.selectedYear:""})),Ee=function(){alert()},Ue=function(){Ne.selectedYear&&(Ne.isLoading=!0,s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/").concat(Ne.member._id,"/getYearlyFeeData?year=").concat(Ne.selectedYear)).then((function(e){Ne.feeData=e.data,Ne.isLoading=!1})))},Ve=function(e,t){var a=r["a"].app.getTime,n=new Date(Ne.member.dateOfJoin);return(e<a.getFullYear()||e==a.getFullYear()&&t<a.getMonth())&&(e>n.getFullYear()||e==n.getFullYear()&&t>=n.getMonth())},Ke=function(e,t){var a=r["a"].app.getTime;return e>a.getFullYear()||e==a.getFullYear()&&t>a.getMonth()},qe=function(e,t){var a=new Date(Ne.member.dateOfJoin);return e<a.getFullYear()||e==a.getFullYear()&&t<a.getMonth()},He=function(e,t){var a;return a=12*(t.getFullYear()-e.getFullYear()),a-=e.getMonth(),a+=t.getMonth(),a},We=function(e,t){var a=new Date(Ne.member.dateOfJoin);a.setDate(1),a.setMonth(a.getMonth()-1),Ne.member.duesPayedUpto&&(a=new Date(Ne.member.duesPayedUpto),a.setDate(1));var n=new Date(e,t,1,0,0,0,0);return He(a,n)*Ne.member.dues.monthlyAmount},Xe=function(e,t){s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member?searchTerm=").concat(e,"&searchBy=memberNumber")).then((function(a){t&&r["a"].app.hideLoader();var n=a.data.data[0];if(n){Ne.member=n;var i=r["a"].members.state.data.findIndex((function(t){return t.memberNumber===e}));if(r["a"].members.state.data[i]){r["a"].members.state.data[i]=Object(o["a"])({},n);var s=r["a"].members.state.data;r["a"].members.state.data=[],r["a"].members.state.data=s,Ne.member=Object(o["a"])({},n)}}}))},Je=function(e,t){Ne.deleteFeeDialog=!0,Ne.deleteFeeDate=new Date(e,t,25,0,0,0,0)},Qe=function(e,t){var a=r["a"].app.getTime;!(e>a.getFullYear()||e===a.getFullYear()&&t>=a.getMonth())||Ne.member.isMemberShipPlanFeesPaid?(Ne.payUptoFeeDialog=!0,Ne.payUptoFeeDate=new Date(e,t,25,0,0,0,0)):r["a"].app.showAlert("Advance fee payment is not allowesd if membership fee is not paid")},$e=function(){var e=new Date(Ne.deleteFeeDate.getTime()),t=new Date(Ne.member.dateOfJoin),a=0;t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()?a=1:e.setMonth(e.getMonth()-1),r["a"].app.showLoader("Deleting..."),s.a.post("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/").concat(Ne.member._id,"/payDues"),{payedUpto:_e()(e).format("DD-MM-YYYY"),removeFeeOnjoin:a}).then((function(){Xe(Ne.member.memberNumber),r["a"].app.hideLoader(),Ue(),Ne.deleteFeeDialog=!1}))},Ge=function(){var e=new Date(Ne.payUptoFeeDate.getTime());r["a"].app.showLoader("Please wait..."),s.a.post("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/").concat(Ne.member._id,"/payDues"),{payedUpto:_e()(e).format("DD-MM-YYYY")}).then((function(){Xe(Ne.member.memberNumber),r["a"].app.hideLoader(),Ue(),Ne.payUptoFeeDialog=!1}))};Object(c["h"])((function(){return Ne.member}),(function(e,t){Ne.selectedYear=12,Ne.planFeePaid=Ne.member.isMemberShipPlanFeesPaid,Ne.membershipPlan=Ne.member.membershipPlan._id,Ne.selectedYear=Ne.member.duesPayedUpto?new Date(Ne.member.duesPayedUpto).getFullYear():new Date(Ne.member.dateOfJoin).getFullYear()})),Object(c["h"])((function(){return Ne.showWindow}),(function(e,t){e&&Xe(Ne.member.memberNumber)})),Object(c["h"])((function(){return Object(c["e"])({memberIdNdYear:ze}).memberIdNdYear}),(function(e,t){Ue()}));var Ze,et,tt=function(){Ne.showConfirmMembershipFee=!1,Ne.planFeePaid=Ne.member.isMemberShipPlanFeesPaid},at=function(){Ne.showConfirmMembershipFee=!1,nt(Ne.planFeePaid,!0)},nt=function(e,t){Ne.planFeePaid==Ne.member.isMemberShipPlanFeesPaid||t?Ne.planFeePaid!=Ne.member.isMemberShipPlanFeesPaid&&t&&(r["a"].app.showLoader("Saving..."),s.a[e?"post":"delete"]("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/").concat(Ne.member._id,"/membershipFeePayment")).then((function(){Xe(Ne.member.memberNumber,!0)}))):Ne.showConfirmMembershipFee=!0},ot=function(){Ne.showConfirmMembershipChange=!1,Ne.membershipPlan=Ne.member.membershipPlan._id},rt=function(){Ne.showConfirmMembershipChange=!1,it(Ne.membershipPlan,!0)},it=function(e,t){var a=Ne.membershipPlans.find((function(t){return t._id==e})),n=Ne.membershipPlans.find((function(e){return e._id==Ne.member.membershipPlan._id}));return a.upgradeOrder<n.upgradeOrder?(setTimeout((function(){return Ne.membershipPlan=Ne.member.membershipPlan._id}),100),void r["a"].app.showDialog("Action not possible!","Degrading a membership class is not possible.","error")):Ne.membershipPlan==Ne.member.membershipPlan._id||t?void(Ne.membershipPlan!=Ne.member.membershipPlan._id&&t&&(r["a"].app.showLoader("Saving..."),s.a.put("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/").concat(Ne.member._id,"/membershipChange"),{membershipPlan:e}).then((function(){r["a"].app.showAlert("Membership class upgraded."),Xe(Ne.member.memberNumber,!0)})))):Ne.member.dues.dueAmount>0?(setTimeout((function(){return Ne.membershipPlan=Ne.member.membershipPlan._id}),100),void r["a"].app.showDialog("Action not possible!","Member should settle the dues and must pay current membership fee in order to change the membership class.","error")):void(Ne.showConfirmMembershipChange=!0)},st=function(){Ne.membershipPlansLoading=!0,s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/membershipPlan")).then((function(e){Ne.membershipPlans=e.data})).catch((function(e){return Promise.reject(e)})).finally((function(){return Ne.membershipPlansLoading=!1}))},ct=function(e,t){t.root;return Ne.membershipPlans.length||st(),Object(o["a"])(Object(o["a"])({},Object(c["g"])(r["a"].memberFeeWindow.state)),{},{years:Re,feeDataComputed:Ie,isPending:Ve,isPaidChange:nt,deleteMonthFee:Ee,showDeleteFeeDialog:Je,showPayUpToFeeDialog:Qe,deleteFee:$e,payUpToFee:Ge,isBeforeJoin:qe,feeToSettleUptoMonth:We,isAdvance:Ke,cancelMembershipFeeChange:tt,confirmMembershipFeeChange:at,confirmMembershipChange:rt,cancelMembershipChange:ot,isMembershipChange:it,monthName:l["a"].monthName})},lt=(a("4160"),r["a"].singleBook.state),ut=null,dt=["dateAdded","dateRemoved","invoiceDate","lastDistributedDate","lastReturnedDate","lastDistributedTime","lastReturnedTime"];Object(c["h"])((function(){return lt.bookRemoved}),(function(e){lt.editModeBookData.status=0===e?1:3})),Object(c["h"])((function(){return lt.authorSearchKey}),(function(e){lt.editModeBookData.author={name:e},yt(e||"")})),Object(c["h"])((function(){return lt.typeSearchKey}),(function(e){lt.editModeBookData.type={name:e},vt(e||"")})),Object(c["h"])((function(){return lt.bookData}),(function(e,t){t&&e.name==t.name||mt()}));var mt=function(){var e=r["a"].app.getRoute.current.meta.title;r["a"].app.setTitle(e+": ".concat(lt.bookData.name))},ft=function(){ut.push({name:"new_book"})},pt=function(){r["a"].books.state.loadedAll=!1,r["a"].distribute.state.loadedAll=!1,r["a"].returnBook.state.loadedAll=!1,r["a"].books.state.data=[],r["a"].distribute.state.data=[],r["a"].returnBook.state.data=[]},bt=function(){if(lt.form.validate()){var e=gt(lt.editModeBookData);r["a"].app.showLoader("Saving..."),s.a.post("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book"),e).then((function(e){r["a"].app.hideLoader(),r["a"].app.showAlert("Book saved successfully."),pt(),ut.push({name:"single_book",params:{id:e.data._id}})})).catch((function(e){return Promise.reject(e)}))}else r["a"].app.showAlert("Please enter all required fields.")},ht=function(){if(lt.form.validate()){var e=gt(lt.editModeBookData);2===e.status&&delete e.status,r["a"].app.showLoader("Updating..."),s.a.put("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book/").concat(lt.bookData._id),e).then((function(){return r["a"].app.showAlert("Data updated successfully.")})).finally((function(){r["a"].app.hideLoader(),lt.bookData=Object(o["a"])(Object(o["a"])({},lt.editModeBookData),{},{author:l["a"].string.pascalCase(lt.editModeBookData.author.name),type:l["a"].string.pascalCase(lt.editModeBookData.type.name)}),lt.isEditMode=!1,pt()})).catch((function(e){return r["a"].app.showAlert("Some error occured!"),Promise.reject(e)}))}else r["a"].app.showAlert("Please enter all required fields.")},gt=function(e){var t,a={};return a.invoiceDate=e.invoiceDate?_e()(e.invoiceDate,"YYYY-MM-DD").format("DD-MM-YYYY"):null,a.dateAdded=e.dateAdded?_e()(e.dateAdded,"YYYY-MM-DD").format("DD-MM-YYYY"):null,a.dateRemoved=e.dateRemoved&&3===e.status?_e()(e.dateRemoved,"YYYY-MM-DD").format("DD-MM-YYYY"):null,a.author=e.author.name,a.status=e.status,a.type=e.type.name,a.name=e.name,a.price=e.price,a.shelfNumber=null!==e&&void 0!==e&&null!==(t=e.shelfNumber)&&void 0!==t&&t.length?e.shelfNumber:0,a.source=e.source?e.source:"",a.remarks=e.remarks?e.remarks:"",a.isbn=e.isbn?e.isbn:"",a.catalogueNo=e.catalogueNo?e.catalogueNo:"",a.stockNo=e.stockNo?e.stockNo:"",a.invoiceNumber=e.invoiceNumber?e.invoiceNumber:"",a.removedReason=e.removedReason?e.removedReason:"",a},vt=function(e){lt.isTypeLoading=!0,et&&et.cancel("Operation canceled due to new request."),et=s.a.CancelToken.source();var t=e&&e.length?"&searchTerm="+encodeURIComponent(e):"";s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book/type?limit=40").concat(t),{cancelToken:et.token}).then((function(e){lt.typesData=e.data})).catch((function(e){return Promise.reject(e)})).finally((function(){lt.isTypeLoading=!1}))},yt=function(e){lt.isAuthorLoading=!0,Ze&&Ze.cancel("Operation canceled due to new request."),Ze=s.a.CancelToken.source();var t=e&&e.length?"&searchTerm="+encodeURIComponent(e):"";s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/author?limit=40").concat(t),{cancelToken:Ze.token}).then((function(e){lt.authorsData=e.data})).catch((function(e){return Promise.reject(e)})).finally((function(){lt.isAuthorLoading=!1}))},Dt=function(e,t){var a=Object(o["a"])({},e);return t&&(a.type={name:a.type},a.author={name:a.author}),dt.forEach((function(e){a[e]&&(a[e]=t?_e()(new Date(a[e])).format("YYYY-MM-DD"):new Date(a[e]))})),a},kt=function(){lt.loading=!1,lt.newBook=!0,lt.bookData=lt.editModeBookData={bookNumber:"",invoiceDate:"",dateAdded:"",dateRemoved:"",author:"",status:1,type:"",name:"",price:"",source:"",remarks:"",isbn:"",catalogueNo:"",stockNo:"",invoiceNumber:"",removedReason:""},yt(""),vt("")},wt=function(e){lt.loading=!0,lt.newBook=!1,s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book/").concat(e)).then((function(e){lt.bookData=Dt(e.data),lt.editModeBookData=Dt(e.data,!0),lt.isEditMode=!1,lt.bookRemoved=3===lt.editModeBookData.status?1:0,mt()})).catch((function(e){if(400!==e.response.status&&404!==e.response.status)return Promise.reject(e);ut.push("/404")})).finally((function(){lt.loading=!1})),vt()},jt=Object(c["a"])((function(){var e=lt.bookData,t=lt.editModeBookData;return _e()(e.invoiceDate,"YYYY-MM-DD").format("DD-MM-YYYY")!=_e()(t.invoiceDate,"YYYY-MM-DD").format("DD-MM-YYYY")||(_e()(e.dateAdded,"YYYY-MM-DD").format("DD-MM-YYYY")!=_e()(t.dateAdded,"YYYY-MM-DD").format("DD-MM-YYYY")||(_e()(e.dateRemoved,"YYYY-MM-DD").format("DD-MM-YYYY")!=_e()(t.dateRemoved,"YYYY-MM-DD").format("DD-MM-YYYY")||(!(!t.author||l["a"].string.pascalCase(e.author)===l["a"].string.pascalCase(t.author.name))||(l["a"].string.pascalCase(e.type)!==l["a"].string.pascalCase(t.type.name)||(e.status!==t.status||(e.name!==t.name||(e.price!=t.price||(e.source!=t.source||(e.remarks!=t.remarks||(e.isbn!=t.isbn||(e.catalogueNo!=t.catalogueNo||(e.stockNo!=t.stockNo||(e.invoiceNumber!=t.invoiceNumber||(e.shelfNumber!=t.shelfNumber||e.removedReason!=t.removedReason))))))))))))))})),Mt=function(){ut.go(-1)},Ot=function(){lt.showQrCode=!0,lt.qrCodeBook=lt.bookData._id},Yt=function(){lt.nextNumber="",lt.nextNumberLoading=!0,s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book/nextNumber")).then((function(e){lt.nextNumber=e.data.next})).finally((function(){lt.nextNumberLoading=!1}))},Bt=function(e,t){var a=t.root;return Yt(),lt.showQrCode=!1,ut=a._router,a._route.params.id?wt(a._route.params.id):kt(),Object(o["a"])(Object(o["a"])({statusColors:{1:"green",2:"orange",3:"grey"}},Object(c["g"])(lt)),{},{isBackPossible:r["a"].app.isBackPossible,updateData:ht,string:l["a"].string,saveNewData:bt,gotoNewBookPage:ft,goBackWard:Mt,hasChanged:jt,showQrCodeModal:Ot,formatDate:function(e){return e?_e()(e,"YYYY-MM-DD").format("DD-MM-YYYY"):""}})},Tt=a("f121"),xt=a.n(Tt),Lt=r["a"].singleMember.state,St=null;Object(c["h"])((function(){return Lt.memberData}),(function(e,t){t&&e.name==t.name||Ct()})),Object(c["h"])((function(){var e;return null===(e=Lt.editModeMemberData)||void 0===e?void 0:e.dateOfBirth}),(function(e){if(""!==e){var t=_e()(r["a"].app.getTime).diff(_e()(e,"YYYY-MM-DD"),"years");Lt.editModeMemberData.age=t}}));var Pt,Ft=function(e){Lt.editModeMemberData.dateOfBirth="",Lt.editModeMemberData.age=""},Ct=function(){var e=r["a"].app.getRoute.current.meta.title;r["a"].app.setTitle(e+": ".concat(Lt.memberData.name))},At=function(){var e=r["a"].memberFeeWindow.state;e.member=Object(o["a"])({},Lt.memberData),e.showWindow=!0},_t=function(e){Lt.loading=!0,Lt.newMember=!1,s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/").concat(e)).then((function(e){Lt.memberData=e.data,Lt.editModeMemberData=Nt(Object(o["a"])({},e.data)),Lt.isEditMode=!1,Ct()})).catch((function(e){if(400!==e.response.status&&404!==e.response.status)return Promise.reject(e);St.push("/404")})).finally((function(){Lt.loading=!1}))},Nt=function(e){return e.age=Wt(e.dateOfBirth),e.active=e.active?1:0,e.dateOfJoin=_e()(e.dateOfJoin).format("YYYY-MM-DD"),e.dateOfBirth&&e.dateOfBirth.length&&(e.dateOfBirth=_e()(e.dateOfBirth).format("YYYY-MM-DD")),e.dateRemoved&&e.dateRemoved.length&&(e.dateRemoved=_e()(e.dateRemoved).format("YYYY-MM-DD")),e.dateRemovedMenu=e.dateRemoved&&e.dateRemoved.length?_e()(e.dateRemoved).format("YYYY-MM-DD"):"",e},Rt=Object(c["a"])((function(){var e=Lt.editModeMemberData,t={name:e.name.trim(),gender:e.gender,address:e.address.trim(),phone:e.phone?e.phone.trim().replace(/ /g,""):"",phone2:e.phone2?e.phone2.trim().replace(/ /g,""):"",gaurdian:e.gaurdian?e.gaurdian.trim():"",job:e.job?e.job.trim():"",email:e.email?e.email.trim():"",bloodType:e.bloodType?e.bloodType.trim():"",active:1==e.active,removedReason:e.removedReason?e.removedReason.trim():"",dateOfJoin:_e()(e.dateOfJoin,"YYYY-MM-DD").format("DD-MM-YYYY")};return e.dateOfBirth&&e.dateOfBirth.length&&(t["dateOfBirth"]=_e()(e.dateOfBirth,"YYYY-MM-DD").format("DD-MM-YYYY")),1!==e.active&&(e.dateRemoved&&e.dateRemoved.length&&(t["dateRemoved"]=_e()(e.dateRemoved,"YYYY-MM-DD").format("DD-MM-YYYY")),e.removedReason&&e.removedReason.length&&(t["removedReason"]=e.removedReason)),Lt.newMember&&(t["membershipPlan"]=Lt.membershipPlan),t})),It=Object(c["a"])((function(){var e,t,a,n,o,r,i,s,c,l,u,d,m=Lt.memberData,f=Lt.editModeMemberData;return m.name.trim()!=f.name.trim()||(m.gender!=f.gender||(m.address.trim()!=f.address.trim()||((null===m||void 0===m||null===(e=m.email)||void 0===e?void 0:e.trim())!=(null===f||void 0===f||null===(t=f.email)||void 0===t?void 0:t.trim())||((null===m||void 0===m||null===(a=m.gaurdian)||void 0===a?void 0:a.trim())!=(null===f||void 0===f||null===(n=f.gaurdian)||void 0===n?void 0:n.trim())||((null===m||void 0===m||null===(o=m.job)||void 0===o?void 0:o.trim())!=(null===f||void 0===f||null===(r=f.job)||void 0===r?void 0:r.trim())||((null===m||void 0===m||null===(i=m.bloodType)||void 0===i?void 0:i.trim())!=(null===f||void 0===f||null===(s=f.bloodType)||void 0===s?void 0:s.trim())||(m.removedReason!=f.removedReason||((null===(c=m.phone)||void 0===c?void 0:c.replace(/ /g,""))!=(null===(l=f.phone)||void 0===l?void 0:l.replace(/ /g,""))||((null===(u=m.phone2)||void 0===u?void 0:u.replace(/ /g,""))!=(null===(d=f.phone2)||void 0===d?void 0:d.replace(/ /g,""))||((m.active?1:0)!=f.active||(_e()(m.dateOfJoin).format("DD-MM-YYYY")!=_e()(f.dateOfJoin,"YYYY-MM-DD").format("DD-MM-YYYY")||(_e()(m.dateOfBirth).format("DD-MM-YYYY")!=_e()(f.dateOfBirth,"YYYY-MM-DD").format("DD-MM-YYYY")||_e()(m.dateRemoved).format("DD-MM-YYYY")!=_e()(f.dateRemoved,"YYYY-MM-DD").format("DD-MM-YYYY")))))))))))))})),zt=function(){Lt.form.validate()?(r["a"].app.showLoader("Updating..."),s.a.put("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/").concat(Lt.memberData._id),Rt.value).finally((function(){r["a"].app.hideLoader(),r["a"].app.showAlert("Data updated successfully."),Lt.memberData=Object(o["a"])({},Lt.editModeMemberData),Lt.isEditMode=!1,Ht()})).catch((function(e){return r["a"].app.showAlert("Some error occured."),Promise.reject(e)}))):r["a"].app.showAlert("Please enter all required fields.")},Et=function(){St.push({name:"new_member"})},Ut=function(){Lt.form.validate()?(r["a"].app.showLoader("Saving..."),s.a.post("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member"),Rt.value).then((function(e){r["a"].app.hideLoader(),r["a"].app.showAlert("Member saved successfully."),Ht(),St.push({name:"single_member",params:{id:e.data._id}})})).catch((function(e){return r["a"].app.showAlert("Some error occured."),Promise.reject(e)}))):r["a"].app.showAlert("Please enter all required fields.")},Vt=function(){Lt.loading=!1,Lt.newMember=!0,Lt.membershipPlan=null,qt(),Lt.memberData=Lt.editModeMemberData={name:"",gender:"",address:"",phone:"",phone2:"",gaurdian:"",job:"",email:"",bloodType:"",dateOfJoin:"",dateOfBirth:"",active:1,dateRemoved:"",removedReason:""}},Kt=function(){St.go(-1)},qt=function(){Lt.membershipPlansLoading=!0,s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/membershipPlan")).then((function(e){Lt.membershipPlans=e.data})).catch((function(e){return Promise.reject(e)})).finally((function(){return Lt.membershipPlansLoading=!1}))},Ht=function(){r["a"].members.state.loadedAll=!1,r["a"].members.state.data=[]},Wt=function(e){return _e()(r["a"].app.getTime).diff(e,"years")},Xt=function(){Lt.nextNumber="",Lt.nextNumberLoading=!0,s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/nextNumber")).then((function(e){Lt.nextNumber=e.data.next})).finally((function(){Lt.nextNumberLoading=!1}))},Jt=function(e,t){var a=t.root;r["a"].memberFeeWindow.state.showWindow=!1,Xt(),St=a._router,a._route.params.id?_t(a._route.params.id):Vt();var n=[{label:"Male",value:"m"},{label:"Female",value:"f"},{label:"Other",value:"o"}],i=function(e){var t=e.target.value,a=Lt.editModeMemberData.dateOfBirth,n=_e()(r["a"].app.getTime);if(""!==a){var o=_e()(a,"YYYY-MM-DD");n.set("date",o.get("date")),n.set("month",o.get("month"))}else n.set("date",1),n.set("month",0);if(""===t)Lt.editModeMemberData.dateOfBirth="";else{var i=n.subtract(parseInt(t),"years").format("YYYY-MM-DD"),s=_e()(r["a"].app.getTime).diff(_e()(i,"YYYY-MM-DD"),"years"),c=parseInt(t)-s;c&&(i=_e()(i,"YYYY-MM-DD").add(-c,"years").format("YYYY-MM-DD")),t.length<=3&&(Lt.editModeMemberData.dateOfBirth=i)}},s=Object(c["a"])((function(){return r["a"].app.getTime?r["a"].app.getTime.toISOString():(new Date).toISOString()}));return Object(o["a"])(Object(o["a"])({},Object(c["g"])(Lt)),{},{saveNewData:Ut,genderLabels:{f:"Female",m:"Male",o:"Other"},goBackWard:Kt,validateEmail:l["a"].string.validateEmail,bloodTypes:xt.a.bloodTypes,maxDob:s,ageKeyUp:i,isBackPossible:r["a"].app.isBackPossible,hasChanged:It,updateData:zt,gotoNewMemberPage:Et,showFeeWindow:At,calculateAge:Wt,dobTextCleared:Ft,genders:n,formatDate:function(e){return e?_e()(e,"YYYY-MM-DD").format("DD-MM-YYYY"):""}})},Qt=(Object(c["e"])({bookData:null}),a("d81d"),r["a"].dashboard.state),$t=function(){s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/libraryDashboardData")).then((function(e){Qt.bookCard=e.data.bookCard,Qt.dueCard=e.data.dueCard,Qt.graphCard=e.data.graphCard})).catch((function(e){return Promise.reject(e)})).finally((function(){Qt.loading=!1}))},Gt=Object(c["a"])((function(){return[{name:"Books Distributed",data:Qt.graphCard?Qt.graphCard.map((function(e){return e.value})):[]}]})),Zt=Object(c["a"])((function(){return Qt.graphCard?Qt.graphCard.map((function(e){return _e()(e.monthString,"MMM").format("MMMM")})):[]})),ea=function(e,t){t.root;return $t(),Object(o["a"])(Object(o["a"])({},Object(c["g"])(Qt)),{},{series:Gt,monthNames:Zt})},ta=r["a"].bulkUpload.state,aa=Object(c["a"])((function(){return r["a"].mainLayout.state.bUploadInProgress})),na=function(e,t){if(e.count){var a=null!==e&&void 0!==e&&e.compleatedAt?"Are you to delete all these ".concat(e.count," ").concat(t," data uploaded in last bulk upload on ").concat(_e()(null===e||void 0===e?void 0:e.compleatedAt).format("DD-MM-YYYY [at] hh:mm A"),"?"):"Are you to delete all these ".concat(e.count," ").concat(t," data uploaded in last one hour?");r["a"].app.showConfirm({okText:"Confirm",title:"Are you sure?",content:a,type:"warning",callback:function(a){r["a"].app.showLoader("Please wait...");var n="bulkUpload".concat(l["a"].string.pascalCase(t),"Data");s.a.delete("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/").concat(n,"?type=").concat(null!==e&&void 0!==e&&e.compleatedAt?"last_upload":"last_hour")).then((function(){r["a"].app.showDialog("Bulk uploaded data deleted","All ".concat(e.count," ").concat(t," data uploaded are deleted successfully"),"success")})).catch((function(e){r["a"].app.showAlert("Some error occured!")})).finally((function(){return r["a"].app.hideLoader()}))}})}else r["a"].app.showDialog("No bulk uploads","Non updated bulk uploaded data not found (Please note, bulk uploaded data which are updated later cannot be deleted)")},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"last_upload",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"books";r["a"].app.showLoader("Please wait...");var a="bulkUpload".concat(l["a"].string.pascalCase(t),"Data");s.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/").concat(a,"?type=").concat(e)).then((function(e){na(e.data,t)})).catch((function(e){r["a"].app.showAlert("Some error occured!")})).finally((function(){return r["a"].app.hideLoader()}))},ra=function(e,t){t.root;return null!==aa.value&&l["a"].getLibraryData(),Object(o["a"])(Object(o["a"])({},Object(c["g"])(ta)),{},{undoUpload:oa,xlsxBooksSampleFileUrl:"".concat("https://library-ms-public.s3.ap-south-1.amazonaws.com","/samples/books-data-bulk-upload-sample.xlsx"),xlsxMembersSampleFileUrl:"".concat("https://library-ms-public.s3.ap-south-1.amazonaws.com","/samples/members-data-bulk-upload-sample.xlsx"),bUploadInProgress:aa,getLibraryData:l["a"].getLibraryData,booksExportOptions:l["a"].dropzoneAxiosOptions({url:"".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/bulkUploadBooksData"),maxFilesize:5.72205,acceptedFiles:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",maxFiles:1,uploadPercentage:function(e){e>=100&&(r["a"].app.showLoader("Processing file..."),ta.timeOut=setTimeout((function(){r["a"].app.hideLoader(),ta.clearBookDataExport(),l["a"].getLibraryData(),r["a"].app.showDialog("Notice!","Processing excel file is taking too long, this may take upto maximum of 15 min, please check after few minutes","warning")}),25e3))},onSuccess:function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.dataInserted;ta.clearBookDataExport(),r["a"].app.hideLoader(),r["a"].app.showDialog("Success","Books data was successfully added, total of ".concat(a," books data are added"))},onInvalidFile:function(){r["a"].app.showDialog("Error!","File must be a valid xlsx file with maximum size of 6 Mb","error")},onCatch:function(e){var t,a;if(ta.bookDataFile){var n,o;if(clearTimeout(ta.timeOut),r["a"].app.hideLoader(),l["a"].getLibraryData(),null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.message)r["a"].app.showDialog("Error!",null===e||void 0===e||null===(n=e.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message,"error");else r["a"].app.showDialog("Error!","Some error occured","error");ta.clearBookDataExport()}},startExport:function(e){ta.startBookDataExport=function(){r["a"].app.showLoader("Uploading file..."),e()}},clearExport:function(e){ta.clearBookDataExport=function(){e(ta.bookDataFile),ta.clearBookDataExport=ta.bookDataFile=ta.startBookDataExport=null}},getFile:function(e){ta.bookDataFile=e},dictDefaultMessage:'<i class="v-icon mdi mdi-upload"></i>Upload xlsx file'}),membersExportOptions:l["a"].dropzoneAxiosOptions({url:"".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/bulkUploadMembersData"),maxFilesize:5.72205,acceptedFiles:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",maxFiles:1,uploadPercentage:function(e){e>=100&&(r["a"].app.showLoader("Processing file..."),ta.timeOut=setTimeout((function(){r["a"].app.hideLoader(),ta.clearMemberDataExport(),l["a"].getLibraryData(),r["a"].app.showDialog("Notice!","Processing excel file is taking too long, this may take upto maximum of 15 min, please check after few minutes","warning")}),25e3))},onSuccess:function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.dataInserted;ta.clearMemberDataExport(),r["a"].app.hideLoader(),r["a"].app.showDialog("Success","Members data was successfully added, total of ".concat(a," members data are added"))},onInvalidFile:function(){r["a"].app.showDialog("Error!","File must be a valid xlsx file with maximum size of 6 Mb","error")},onCatch:function(e){var t,a;if(ta.memberDataFile){var n,o;if(clearTimeout(ta.timeOut),r["a"].app.hideLoader(),l["a"].getLibraryData(),null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.message)r["a"].app.showDialog("Error!",null===e||void 0===e||null===(n=e.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message,"error");else r["a"].app.showDialog("Error!","Some error occured","error");ta.clearMemberDataExport()}},startExport:function(e){ta.startMemberDataExport=function(){r["a"].app.showLoader("Uploading file..."),e()}},clearExport:function(e){ta.clearMemberDataExport=function(){e(ta.memberDataFile),ta.clearMemberDataExport=ta.memberDataFile=ta.startMemberDataExport=null}},getFile:function(e){ta.memberDataFile=e},dictDefaultMessage:'<i class="v-icon mdi mdi-upload"></i>Upload xlsx file'})})},ia=(a("1276"),Object(c["e"])({isGenerating:!1,isRecent:!1,ext:""})),sa=function(e){ia.isGenerating||(ia.isGenerating=!0,s.a.get(e,{timeout:25e3,onUploadProgress:function(e){var t=e.loaded/e.total*100;console.log(t)}}).then((function(e){Pt&&Pt(!1),window.location.href=e.data.data})).finally((function(){ia.isGenerating=!1})).catch((function(e){Pt&&Pt(!1),"timeout of 25000ms exceeded"===e.message?r["a"].app.showDialog("Notice!","Report generation taking too long, please check after few minutes","warning"):r["a"].app.showAlert("Some error occured!")})))},ca=function(e){return Object(c["h"])((function(){return e.value}),(function(t){t&&(ia.ext=r["a"].reports.reportWindowFileName.split(".").pop(),Pt=e.checkIfGenerationCompleted)})),Object(c["h"])((function(){return e.s3Info}),(function(e){var t,a;e&&(ia.isRecent=(null===e||void 0===e||null===(t=e.s3FileHeadInfo)||void 0===t?void 0:t.LastModified)&&moment(r["a"].app.getTime).diff(null===e||void 0===e||null===(a=e.s3FileHeadInfo)||void 0===a?void 0:a.LastModified,"minutes")<=15)})),Object(o["a"])(Object(o["a"])({},Object(c["g"])(ia)),{},{startGenerate:sa})},la=r["a"].settings,ua=r["a"].mainLayout.state,da=Object(c["f"])(null),ma=function(e){var t=la["new"+l["a"].string.pascalCase(e)].trim();switch(e){case"name":return t.length>0;case"email":return!!l["a"].string.validateEmail(t);case"address":return t.length>0;case"phone":return t.length>4}return!0},fa=function(e){pa({settingsKey:e,value:la["new"+l["a"].string.pascalCase(e)].trim(),onSuccess:function(){ua["library"+l["a"].string.pascalCase(e)]=la["new"+l["a"].string.pascalCase(e)],la["edit"+l["a"].string.pascalCase(e)]=!1}})},pa=function(e){var t=e.settingsKey,a=e.value,n=e.onSuccess,o={};la[t+"Loading"]||(o[t]=a,la[t+"Loading"]=!0,s.a.patch("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/libraryBasicData"),o).then((function(e){n&&n(e)})).catch((function(){r["a"].app.showAlert("Some error occured!")})).finally((function(){return la[t+"Loading"]=!1})))},ba=function(e){da.value.$el.querySelector("input").value=null,l["a"].getBase64FromFile(e,(function(e){la.logoCropperSrc=e,la.showLogoDialog=!0}))},ha=function(){da.value.$el.querySelector("input").click()},ga=function(e){la.showLogoDialog=!1,pa({settingsKey:"logo",value:e,onSuccess:function(){ua.libraryHasLogo=!0,ua.libraryLogoUrl=ua.libraryLogoUrl+"&r="+Math.random()}})},va=function(){pa({settingsKey:"logo",value:!1,onSuccess:function(){r["a"].mainLayout.state.libraryHasLogo=!1,ua.libraryHasLogo=!1}})},ya=function(){r["a"].app.showConfirm({title:"Are you sure?",content:"Are you sure to remove log of your library?",type:"warning",cancel:function(){return r["a"].app.hideConfirm()},callback:function(e){va()}})},Da=function(){la.confirmForm.reset(),la.showPasswordDialog=!1},ka=function(e){return e&&0!==e.trim().length?!!l["a"].string.passwordCriteriaMet(e)||"Password must have uppercase, lowercase, digit and make sure the length is between 8 and 20":"Required"},wa=function(e){return e&&0!==e.trim().length?la.newPassword===la.newPasswordConfirm||"Password doesnt match":"Required"},ja=function(){la.confirmForm.validate()&&(r["a"].app.showLoader("Please wait..."),s.a.put("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/password"),{currentPassword:la.currentPassword,newPassword:la.newPassword,newPasswordConfirm:la.newPasswordConfirm}).then((function(){r["a"].app.showDialog("Success!","Password changed successfully!"),Da()})).catch((function(e){400===e.response.status?r["a"].app.showDialog("Error!","Current password you entered was incorrect","error"):r["a"].app.showAlert("Some error occured!")})).finally((function(){return r["a"].app.hideLoader()})))},Ma=function(e,t){t.root;return Object(o["a"])(Object(o["a"])({},Object(c["g"])(la)),{},{photoAdded:ba,validate:ma,logoSelect:ha,passwordValidation:ka,confirmPasswordValidation:wa,cancelPasswordChange:Da,updatePassword:ja,updateLogo:ga,updateSettingsByKey:fa,confirmDeleteLogo:ya,logoFileInput:da,mlState:Object(c["e"])(ua)})}},"71fd":function(e,t,a){},a0d8:function(e,t,a){},b6e1:function(e,t,a){},ce96:function(e,t,a){"use strict";var n=a("5530"),o={getItem:function(e){var t=localStorage.getItem(e);try{return JSON.parse(t)}catch(a){return t}},setItem:function(e,t){localStorage.setItem(e,JSON.stringify(t))},deleteItem:function(e){localStorage.removeItem(e)}},r=(a("d3b7"),a("bc3a")),i=a.n(r),s=a("4360"),c=function(){i.a.interceptors.request.use((function(e){return e.withCredentials=!0,e}),(function(e){return Promise.reject(e)}));i.a.interceptors.response.use((function(e){return e}),(function(e){return e.message&&e.response?401!==e.response.status?Promise.reject(e):void s["a"].app.logOut():Promise.reject(e)}))},l=(a("99af"),a("4de4"),a("c19f"),a("b0c0"),a("ac1f"),a("1276"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("aeb1")),u=a.n(l),d=a("c1df"),m=a.n(d),f=function(e){e&&s["a"].app.showLoader(e),i.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/libraryBasicData")).then((function(e){var t,a;s["a"].mainLayout.state.libraryBasicDetailsLoaded=!0,s["a"].mainLayout.state.libraryName=e.data.name,s["a"].mainLayout.state.libraryPhone=e.data.phone,s["a"].mainLayout.state.libraryEmail=e.data.email,s["a"].mainLayout.state.libraryAddress=e.data.address,s["a"].mainLayout.state.libraryHasLogo=e.data.hasLogo,s["a"].mainLayout.state.bUploadInProgress=(null===(t=e.data)||void 0===t||null===(a=t.settings)||void 0===a?void 0:a.bUploadInProgress)||null,s["a"].mainLayout.state.libraryLogoUrl="".concat("https://library-ms-public.s3.ap-south-1.amazonaws.com","/library-logos/").concat(e.data._id,"_thumb.jpg?u=").concat(e.data.updatedAt)})).finally((function(){e&&s["a"].app.hideLoader()}))},p=function(e,t){var a=e.querySelector(".vb-content");t.onScroll&&a.addEventListener("scroll",t.onScroll),t.onScrollToBottom&&a.addEventListener("scroll",(function(){var e=t.scrollToBottomOffset?t.scrollToBottomOffset:0;a.scrollHeight-a.offsetHeight-e<=Math.ceil(a.scrollTop)&&t.onScrollToBottom()}))},b=function(e){var t=e.getTimezoneOffset(),a=330,n=new Date(e.getTime()+6e4*(a+t));return n};function h(e,t){for(var a=[],n=[],o=0;o<e.length;o++)a[e[o]]=!0;for(o=0;o<t.length;o++)a[t[o]]?delete a[t[o]]:a[t[o]]=!0;for(var r in a)n.push(r);return n}function g(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e-1]}function v(e){for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n),r=0;r<t.length;r++)o[r]=t.charCodeAt(r);var i=new Blob([n],{type:a});return i}function y(e,t,a){u()(v(e),t,a)}function D(e,t,a){u()(e,t,a)}function k(e){e.filter("formatDate",(function(e){if(e)return m()(e).format("DD-MM-YYYY")})),e.filter("formatDateMonthAndYear",(function(e){if(e)return m()(e).format("MMM, YYYY")})),e.filter("formatTime",(function(e){if(e)return m()(e).format("hh:mm A")})),e.filter("formatDateTime",(function(e){if(e)return m()(e).format("DD-MM-YYYY [at] hh:mm A")}))}var w=function(e){for(var t in e)window[t]=e[t]},j=function(e,t,a){var n=new FileReader;n.readAsDataURL(e),t&&(n.onload=function(){return t(n.result)}),a&&(n.onerror=a)},M={vueBarEvents:p,vueAddTimeFomats:k,convertToIst:b,arrDiff:h,monthName:g,downloadFromDataUri:y,downloadFromBlob:D,getLibraryData:f,setWindowValues:w,getBase64FromFile:j},O=(a("4d63"),a("25f0"),a("466d"),a("5319"),a("498a"),function(e){return e?e.replace(/(\w)(\w*)/g,(function(e,t,a){return t.toUpperCase()+a.toLowerCase()})).replace(/\s\s+/g," ").trim():e}),Y=function(e){return e.replace(/\s\s+/g," ").trim()},B=function(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},T=function(e){var t=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9_])");return t.test(e)},x={pascalCase:O,validateEmail:B,passwordCriteriaMet:T,removeMultipleSpaces:Y},L=function(e,t,a){var n=a.url,o=a.onSuccess,r=a.onCatch,s=a.startExport,c=a.uploadPercentage,l=a.timeout,u=function(){i.a.post(n,{file:e},{onUploadProgress:function(e){var a=e.loaded/e.total*100;c&&c(a),t.previewElement.querySelector(".dz-upload").style.width="".concat(parseInt(a),"%")},timeout:l||0}).then((function(e){o&&o(e)})).catch((function(e){r&&r(e)}))};s?s(u):u()},S=function(e){return e["error"]=function(t,a){e.onInvalidFile?e.onInvalidFile(t,a):s["a"].app.showAlert(a),this.removeFile(t)},e["accept"]=function(t){var a=this;e.getFile&&e.getFile(t),e.clearExport&&e.clearExport((function(e){a.removeFile(e)}));var n=new FileReader;n.onload=function(a){var n=a.target.result;L(n,t,e)},n.readAsDataURL(t)},e};t["a"]=Object(n["a"])({localStorage:o,string:x,setupinterceptor:c,dropzoneAxiosOptions:S},M)},f121:function(e,t){var a=["O+","A+","B+","O-","A-","B-","AB+","AB-","A1+","A1-","A1B+","A1B-","A2+","A2-","A2B+","A2B-","Bombay Blood Group","INRA"];e.exports={bloodTypes:a}}});
//# sourceMappingURL=app.c9fd12dd.js.map