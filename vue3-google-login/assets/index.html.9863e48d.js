import{_ as o,o as p,c as l,a as n,b as t,F as c,d as e,e as s,r as i}from"./app.433fa427.js";const u={},r=e('<h1 align="center">Vue 3 Google Login - Complete Documentation</h1><p align="center"><img src="https://devbaji.github.io/vue3-google-login/images/auto-login.gif" alt="Vue 3 Google Login - Automatic Google Sign In Demo"></p><p align="center"><a href="https://npmcharts.com/compare/vue3-google-login" target="_blank"><img src="https://img.shields.io/npm/dw/vue3-google-login.svg" alt="npm downloads"></a>\xA0 <a href="https://www.npmjs.com/package/vue3-google-login" target="_blank"><img src="https://img.shields.io/npm/v/vue3-google-login.svg" alt="npm version"></a>\xA0 <a href="https://bundlephobia.com/package/vue3-google-login" target="_blank"><img src="https://img.shields.io/bundlephobia/minzip/vue3-google-login" alt="bundle size"></a>\xA0 </p><h2 id="overview" tabindex="-1"><a class="header-anchor" href="#overview" aria-hidden="true">#</a> Overview</h2>',4),d=n("strong",null,"vue3-google-login",-1),k=s(" is a lightweight, production-ready Vue 3 plugin for implementing Google Sign In, Google authentication, and OAuth2 login flows in your Vue 3 applications. This package provides seamless integration with "),g={href:"https://developers.google.com/identity",target:"_blank",rel:"noopener noreferrer"},v=s("Google Identity Services"),h=s(" and the "),m={href:"https://developers.google.com/identity/oauth2/web/guides/load-3p-authorization-library",target:"_blank",rel:"noopener noreferrer"},b=s("Google 3P Authorization JavaScript Library"),f=s(", making it easy to add Google login functionality to your Vue 3 projects."),_=e('<p>Perfect for Vue 3 developers who need a reliable solution for Google OAuth2 authentication, Google signin buttons, and Google Identity Services integration. Full TypeScript support included.</p><h3 id="key-features" tabindex="-1"><a class="header-anchor" href="#key-features" aria-hidden="true">#</a> Key Features</h3><ul><li><strong>Login with Google button</strong> - Pre-styled Google sign-in button component</li><li><strong>One Tap prompt</strong> - Quick Google account selection for faster login experience</li><li><strong>Automatic Login</strong> - Seamless authentication without any user interaction</li><li><strong>Custom Login Button</strong> - Use your own button design with Google OAuth2 authentication</li><li><strong>TypeScript Support</strong> - Complete TypeScript definitions and type safety</li><li><strong>Lightweight &amp; Fast</strong> - Minimal bundle size, optimized performance</li></ul><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites" aria-hidden="true">#</a> Prerequisites</h2><p>Before using vue3-google-login in your Vue 3 project, ensure you have:</p>',5),y=n("li",null,[n("strong",null,"Vue 3.0.3 or above"),s(" - This plugin requires Vue 3.0.3 or higher")],-1),w=n("strong",null,"Google API Client ID",-1),q=s(" - To enable Google Sign In on your website, you need to set up your Google API client ID. "),G={href:"https://developers.google.com/identity/gsi/web/guides/get-google-api-clientid",target:"_blank",rel:"noopener noreferrer"},T=s("Follow these steps"),L=s(" to get your client ID"),x=n("li",null,[n("strong",null,"Local Development Setup"),s(" - For testing in your local environment, add "),n("code",null,"http://localhost"),s(" and "),n("code",null,"http://localhost:<port_number>"),s(" to the Authorized JavaScript origins in your Google Cloud Console")],-1),C=e(`<h2 id="getting-started-vue-3-google-login-setup" tabindex="-1"><a class="header-anchor" href="#getting-started-vue-3-google-login-setup" aria-hidden="true">#</a> Getting Started - Vue 3 Google Login Setup</h2><h3 id="installation" tabindex="-1"><a class="header-anchor" href="#installation" aria-hidden="true">#</a> Installation</h3><p>Install the vue3-google-login package using your preferred package manager:</p><p><strong>NPM:</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> vue3-google-login
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Yarn:</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> vue3-google-login
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>CDN:</strong> If you prefer to use vue3-google-login via a CDN, you can include the following script in your HTML file:</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.jsdelivr.net/npm/vue3-google-login@2.0.36/dist/index.umd.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="initialize-the-plugin" tabindex="-1"><a class="header-anchor" href="#initialize-the-plugin" aria-hidden="true">#</a> Initialize the Plugin</h3><p>Initialize the vue3-google-login plugin in your <code>main.js</code> or <code>main.ts</code> file. This will register the <code>GoogleLogin</code> component globally and configure Google OAuth2 authentication for your Vue 3 application:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">import</span> vue3GoogleLogin <span class="token keyword">from</span> <span class="token string">&#39;vue3-google-login&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>vue3GoogleLogin<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">clientId</span><span class="token operator">:</span> <span class="token string">&#39;YOUR_GOOGLE_CLIENT_ID&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u{1F4A1} <strong>Tip:</strong> If you don&#39;t want to initialize and register the <code>GoogleLogin</code> component globally, you can directly import it from <code>vue3-google-login</code> package and use the <code>client-id</code> prop. Some functions also accept a <code>clientId</code> option to avoid initializing the plugin. See the <a href="#options">Options section</a> for more details.</p></blockquote><h3 id="using-the-googlelogin-component" tabindex="-1"><a class="header-anchor" href="#using-the-googlelogin-component" aria-hidden="true">#</a> Using the GoogleLogin Component</h3><p>Once the plugin is installed and initialized, you can use the <code>GoogleLogin</code> component anywhere in your Vue 3 application. This component renders a Google sign-in button that opens a popup for Google OAuth2 authentication:</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// This callback will be triggered when the user selects or login to</span>
  <span class="token comment">// his Google account from the popup</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Handle the response&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoogleLogin</span> <span class="token attr-name">:callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here is an image showing the Google sign-in button rendered by Google Identity Services:</p><p align="center"><img src="https://devbaji.github.io/vue3-google-login/images/google-rendered-button.png" alt="Google Sign In Button Rendered by vue3-google-login"></p><h3 id="one-tap-prompt" tabindex="-1"><a class="header-anchor" href="#one-tap-prompt" aria-hidden="true">#</a> One Tap prompt</h3><p>For this feature set the prop <code>prompt</code> to true, this will open a prompt with the list of logged in Google accounts of the user, now user can just tap on his prefered account to easily login to your application</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// This callback will be triggered when user click on the One Tap prompt</span>
  <span class="token comment">// This callback will be also triggered when user click on login button </span>
  <span class="token comment">// and selects or login to his Google account from the popup</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Handle the response&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoogleLogin</span> <span class="token attr-name">:callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prompt</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Or use <code>googleOneTap</code> function</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> googleOneTap <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue3-google-login&quot;</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">googleOneTap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// This promise is resolved when user selects an account from the the One Tap prompt</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Handle the response&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Handle the error&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>One-Tap prompt will be shown once this component is mounted<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,23),O=s("\u2139\uFE0F If the user closes the One Tap prompt manually, the One Tap prompt will be suppressed, see "),I={href:"https://developers.google.com/identity/gsi/web/guides/features#exponential_cooldown",target:"_blank",rel:"noopener noreferrer"},A=s("here"),S=s(" for more info"),j=n("p",null,"Here is an image showing the Google One Tap prompt in action:",-1),E=n("p",{align:"center"},[n("img",{src:"https://devbaji.github.io/vue3-google-login/images/one-tap-prompt.gif",alt:"Google One Tap Login Prompt Demo"})],-1),z=n("h3",{id:"use-of-googlelogout-function",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#use-of-googlelogout-function","aria-hidden":"true"},"#"),s(" Use of googleLogout function")],-1),D=s("While using One-tap feature, a "),N={href:"https://developers.google.com/identity/gsi/web/guides/automatic-sign-in-sign-out#sign-out",target:"_blank",rel:"noopener noreferrer"},R=s("dead-loop UX issue"),U=s(" may occur. To resolve this issue, in your logout function run "),V=n("code",null,"googleLogout",-1),H=s(" funtion"),F=e(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> googleLogout <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue3-google-login&quot;</span>
<span class="token keyword">const</span> <span class="token function-variable function">yourLogoutFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// your logout logics</span>
  <span class="token function">googleLogout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u2757 Function <code>googleLogout</code> is used to temporarily disable One Tap Automatic sign-in for one day. This API does not sign out your users out of your website or any Google websites.</p></blockquote><h3 id="automatic-login" tabindex="-1"><a class="header-anchor" href="#automatic-login" aria-hidden="true">#</a> Automatic Login</h3><p>To enable this feature, set the prop <code>autoLogin</code> to true, this will automatically detects whether only one Google account is logged in, if yes then prompt will automatically log in and will trigger the callback without any user interactions, to make this work <code>prompt</code> must be set to true</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// This callback will be triggered automatically </span>
  <span class="token comment">// if one single Google account is already logged in</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Handle the response&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoogleLogin</span> <span class="token attr-name">:callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prompt</span> <span class="token attr-name">auto-login</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Or use <code>googleOneTap</code> function and set <code>autoLogin</code> option to true</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> googleOneTap <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue3-google-login&quot;</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">googleOneTap</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">autoLogin</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// This promise is resolved when user selects an account from the the One Tap prompt</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Handle the response&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Handle the error&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>One-Tap prompt will be shown once this component is mounted<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here is an image showing how the Google One Tap prompt automatically detects the logged-in Google account and logs in without user interaction:</p><p align="center"><img src="https://devbaji.github.io/vue3-google-login/images/auto-login.gif" alt="Automatic Google Login Demo - Vue 3 Google Login"></p><h3 id="get-user-data" tabindex="-1"><a class="header-anchor" href="#get-user-data" aria-hidden="true">#</a> Get User Data</h3><p>In the triggered callback after login you will get a JWT credential string which can be decoded using decodeCredential function to retrive users basic data</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> decodeCredential <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue3-google-login&#39;</span>
<span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// decodeCredential will retrive the JWT payload from the credential</span>
  <span class="token keyword">const</span> userData <span class="token operator">=</span> <span class="token function">decodeCredential</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>credential<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Handle the userData&quot;</span><span class="token punctuation">,</span> userData<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoogleLogin</span> <span class="token attr-name">:callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prompt</span> <span class="token attr-name">auto-login</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u2757 You cannot use decodeCredential function to retrive user data when you are using <a href="#custom-login-button">Custom Login Button</a>, because it doesn&#39;t give a JWT credential, instead it gives an authorization code or access token, <a href="#combination-of-one-tap-prompt-and-custom-button">see here for more info</a></p></blockquote><h2 id="custom-login-button" tabindex="-1"><a class="header-anchor" href="#custom-login-button" aria-hidden="true">#</a> Custom Login Button</h2>`,14),P=s("\u2757 For custom buttons this plugin use "),B=n("code",null,"google.accounts.oauth2.initCodeClient",-1),J=s(" and "),Y=n("code",null,"google.accounts.oauth2.initTokenClient",-1),M=s(" under the hoods which gives "),W={href:"https://developers.google.com/identity/oauth2/web/guides/use-code-model#auth_code_handling",target:"_blank",rel:"noopener noreferrer"},K=s("OAuth2 authorization code"),Q=s(" and "),X={href:"https://developers.google.com/identity/oauth2/web/guides/use-token-model",target:"_blank",rel:"noopener noreferrer"},Z=s("Access Token"),$=s(" respectively in the callback response, but Google rendered login button and One Tap prompt gives a "),nn={href:"https://developers.google.com/identity/gsi/web/reference/js-reference#CredentialResponse",target:"_blank",rel:"noopener noreferrer"},sn=s("CredentialResponse"),an=s(" with a JWT credential field, so if you are using a combination of these, validating your callback response on server-side can be a little tricky, this is more explained "),tn=n("a",{href:"#server-side-validation"},"here",-1),en=e(`<p>Some times you may not need the default button rendered by Google, you can create your own button and can make it behave like a login with Google button</p><p>This can be done in three ways</p><h3 id="custom-button-as-slot" tabindex="-1"><a class="header-anchor" href="#custom-button-as-slot" aria-hidden="true">#</a> Custom Button As Slot</h3><p>Create your own button component and keep it inside <a href="#googlelogin-component">GoogleLogin component</a>, default slot content of GoogleLogin component is considered as a custom login button and it will act as a login with Google button</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Handle the response&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoogleLogin</span> <span class="token attr-name">:callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>Login Using Google<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>GoogleLogin</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),on=s("\u{1F4A1} By default this will give "),pn={href:"https://developers.google.com/identity/oauth2/web/guides/use-code-model#auth_code_handling",target:"_blank",rel:"noopener noreferrer"},ln=s("Auth code"),cn=s(" in response, you can use the prop "),un=n("code",null,'popup-type="TOKEN"',-1),rn=s(" to get "),dn={href:"https://developers.google.com/identity/oauth2/web/guides/use-token-model",target:"_blank",rel:"noopener noreferrer"},kn=s("Access Token"),gn=s(" instead"),vn=n("h3",{id:"googleauthcodelogin-function",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#googleauthcodelogin-function","aria-hidden":"true"},"#"),s(" googleAuthCodeLogin function")],-1),hn=s("You can use "),mn=n("code",null,"googleAuthCodeLogin",-1),bn=s(" function to dynamically trigger the opening of login popup, response will have an "),fn={href:"https://developers.google.com/identity/oauth2/web/guides/use-code-model#auth_code_handling",target:"_blank",rel:"noopener noreferrer"},_n=s("OAuth2 authorization code"),yn=e(`<div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> googleAuthCodeLogin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue3-google-login&quot;</span>
<span class="token keyword">const</span> <span class="token function-variable function">login</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">googleAuthCodeLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Handle the response&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Login Using Google<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="googletokenlogin-function" tabindex="-1"><a class="header-anchor" href="#googletokenlogin-function" aria-hidden="true">#</a> googleTokenLogin function</h3>`,2),wn=s("Just like "),qn=n("a",{href:"#googleauthcodelogin-function"},"googleAuthCodeLogin function",-1),Gn=s(" you can use "),Tn=n("code",null,"googleTokenLogin",-1),Ln=s(" function to trigger the opening of login popup that gives an "),xn={href:"https://developers.google.com/identity/oauth2/web/guides/use-token-model",target:"_blank",rel:"noopener noreferrer"},Cn=s("Access Token"),On=s(" instead of an Auth code"),In=e(`<div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> googleTokenLogin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue3-google-login&quot;</span>
<span class="token keyword">const</span> <span class="token function-variable function">login</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">googleTokenLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Handle the response&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Login Using Google<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here is an image showing how a custom button opens the Google OAuth2 login popup:</p><p align="center"><img width="300" src="https://devbaji.github.io/vue3-google-login/images/custom-login-button.gif" alt="Custom Google Login Button Demo - Vue 3 Google Login"></p><h2 id="using-google-sdk" tabindex="-1"><a class="header-anchor" href="#using-google-sdk" aria-hidden="true">#</a> Using Google SDK</h2>`,4),An=s("If you want to directly use the API provided by "),Sn={href:"https://developers.google.com/identity/oauth2/web/guides/load-3p-authorization-library",target:"_blank",rel:"noopener noreferrer"},jn=s("Google Identity Services JavaScript SDK"),En=s(" without even initializing the plugin, you can use "),zn=n("code",null,"googleSdkLoaded",-1),Dn=s(" wrapper function to do that. This will run an action in which you can use the API directly, and under the hoods it will make sure that this action is performed only after the SDK library is fully loaded."),Nn=e(`<p>Here is an example showing how we can use <code>googleSdkLoaded</code> wrapper function to create a custom login button</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> googleSdkLoaded <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue3-google-login&quot;</span>
<span class="token keyword">const</span> <span class="token function-variable function">login</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">googleSdkLoaded</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">google</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    google<span class="token punctuation">.</span>accounts<span class="token punctuation">.</span>oauth2<span class="token punctuation">.</span><span class="token function">initCodeClient</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">client_id</span><span class="token operator">:</span> <span class="token string">&#39;352931034399-ht1i7mqefgrbsn67a4b1nm991bvat47l.apps.googleusercontent.com&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">scope</span><span class="token operator">:</span> <span class="token string">&#39;email profile openid&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Handle the response&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">requestCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Login Using Google<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),Rn=s("\u{1F4A1} You can find the docs on how to use this SDK "),Un={href:"https://developers.google.com/identity/oauth2/web/reference/js-reference",target:"_blank",rel:"noopener noreferrer"},Vn=s("here"),Hn=s(" and "),Fn={href:"https://developers.google.com/identity/gsi/web/reference/js-reference",target:"_blank",rel:"noopener noreferrer"},Pn=s("here"),Bn=e(`<h2 id="typescript" tabindex="-1"><a class="header-anchor" href="#typescript" aria-hidden="true">#</a> TypeScript</h2><p>If you are using Vue 3 with TypeScript you may need to add type to the callback function triggered by <a href="#googlelogin-component">GoogleLogin component</a>, you can do this by importing <code>CallbackTypes</code></p><blockquote><p>\u26A0\uFE0F If you are trying to implement a custom button and one-tap login using GoogleLogin component alone <a href="#combination-of-one-tap-prompt-and-custom-button">like this</a>, you cannot add type to the callback instead you can add <code>any</code> type to the callback response or the recomended way is to implement this using <code>googleOneTap</code> and <code>googleAuthCodeLogin</code>/<code>googleTokenLogin</code> funtions</p></blockquote><h3 id="credentialcallback" tabindex="-1"><a class="header-anchor" href="#credentialcallback" aria-hidden="true">#</a> CredentialCallback</h3><p>Use <code>CredentialCallback</code> type for the callback of Google rendered login button using <a href="#googlelogin-component">GoogleLogin component</a>, you can also use this type for the callback from One-Tap/Automatic Login prompts</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> type <span class="token punctuation">{</span> CallbackTypes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue3-google-login&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token literal-property property">callback</span><span class="token operator">:</span> CallbackTypes<span class="token punctuation">.</span><span class="token function-variable function">CredentialCallback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// This callback will be triggered when the user selects or login to</span>
  <span class="token comment">// his Google account from the popup</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Credential JWT string&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>credential<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoogleLogin</span> <span class="token attr-name">:callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="coderesponsecallback" tabindex="-1"><a class="header-anchor" href="#coderesponsecallback" aria-hidden="true">#</a> CodeResponseCallback</h3><p>Use <code>CodeResponseCallback</code> type for the callback trigered by <a href="#googlelogin-component">GoogleLogin component</a> when a <a href="#custom-button-as-slot">custom button is kept as slot</a></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> type <span class="token punctuation">{</span> CallbackTypes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue3-google-login&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token literal-property property">callback</span><span class="token operator">:</span> CallbackTypes<span class="token punctuation">.</span><span class="token function-variable function">CodeResponseCallback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Authorisation code&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoogleLogin</span> <span class="token attr-name">:callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>Login Using Google<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>GoogleLogin</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tokenresponsecallback" tabindex="-1"><a class="header-anchor" href="#tokenresponsecallback" aria-hidden="true">#</a> TokenResponseCallback</h3><p>Use <code>TokenResponseCallback</code> type for the callback trigered by <a href="#googlelogin-component">GoogleLogin component</a> when a <a href="#custom-button-as-slot">custom button is kept as slot</a> and <code>popup-type</code> prop is set to <code>TOKEN</code></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> type <span class="token punctuation">{</span> CallbackTypes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue3-google-login&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token literal-property property">callback</span><span class="token operator">:</span> CallbackTypes<span class="token punctuation">.</span><span class="token function-variable function">TokenResponseCallback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Access token&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>access_token<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoogleLogin</span> <span class="token attr-name">:callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span> <span class="token attr-name">popup-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>TOKEN<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>Login Using Google<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>GoogleLogin</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="server-side-validation" tabindex="-1"><a class="header-anchor" href="#server-side-validation" aria-hidden="true">#</a> Server-side Validation</h2><p>Once the callback is triggered you need to validate the callback response using your Server-side endpoints, but this is done differently for the callback triggered by Google rendered login button/One Tap prompts and callback triggered by Custom Login Button</p><h3 id="google-rendered-login-button-one-tap-prompts" tabindex="-1"><a class="header-anchor" href="#google-rendered-login-button-one-tap-prompts" aria-hidden="true">#</a> Google rendered login button/One Tap prompts</h3>`,15),Jn=s("Callback will be triggered with a "),Yn={href:"https://developers.google.com/identity/gsi/web/reference/js-reference#CredentialResponse",target:"_blank",rel:"noopener noreferrer"},Mn=s("CredentialResponse"),Wn=s(" with a JWT credential string"),Kn=e(`<p>Here is a sample Node.js code snippet for validating the JWT credential string</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> OAuth2Client <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;google-auth-library&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OAuth2Client</span><span class="token punctuation">(</span><span class="token string">&quot;YOUR_GOOGLE_CLIENT_ID&quot;</span><span class="token punctuation">)</span>

<span class="token comment">// Call this function to validate the JWT credential sent from client-side</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">verifyCredentials</span><span class="token punctuation">(</span><span class="token parameter">credential</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> ticket <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">verifyIdToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">idToken</span><span class="token operator">:</span> credential<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> payload <span class="token operator">=</span> ticket<span class="token punctuation">.</span><span class="token function">getPayload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> payload
<span class="token punctuation">}</span>

<span class="token function">verifyCredentials</span><span class="token punctuation">(</span><span class="token string">&#39;JWT_CREDENTIAL_STRING_FROM_CLIENT_SIDE&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">userInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// use userInfo and do your server-side logics here</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// validation failed and userinfo was not obtained</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="custom-login-button-1" tabindex="-1"><a class="header-anchor" href="#custom-login-button-1" aria-hidden="true">#</a> Custom Login Button</h3><h6 id="validating-auth-code" tabindex="-1"><a class="header-anchor" href="#validating-auth-code" aria-hidden="true">#</a> Validating Auth Code</h6>`,4),Qn=s("If you are using "),Xn=n("a",{href:"#googleauthcodelogin-function"},"googleAuthCodeLogin function",-1),Zn=s(" or "),$n={href:"https://developers.google.com/identity/oauth2/web/reference/js-reference#google.accounts.oauth2.initCodeClient",target:"_blank",rel:"noopener noreferrer"},ns=s("google.accounts.oauth2.initCodeClient"),ss=s(", the response you get on successfull login contains an "),as={href:"https://developers.google.com/identity/oauth2/web/guides/use-code-model#auth_code_handling",target:"_blank",rel:"noopener noreferrer"},ts=s("OAuth2 authorization code"),es=e(`<p>Here is a sample Node.js code snippet for validating this OAuth2 authorization code from the response</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> OAuth2Client <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;google-auth-library&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OAuth2Client</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">clientId</span><span class="token operator">:</span> <span class="token string">&#39;YOUR_GOOGLE_CLIENT_ID&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">clientSecret</span><span class="token operator">:</span> <span class="token string">&#39;YOUR_GOOGLE_CLIENT_SECRET&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">redirectUri</span><span class="token operator">:</span> <span class="token string">&#39;YOUR_GOOGLE_REDIRECT_URI&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// Call this function to validate OAuth2 authorization code sent from client-side</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">verifyCode</span><span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token punctuation">{</span> tokens <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">getToken</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span>
  client<span class="token punctuation">.</span><span class="token function">setCredentials</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">access_token</span><span class="token operator">:</span> tokens<span class="token punctuation">.</span>access_token <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> userinfo <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;https://www.googleapis.com/oauth2/v3/userinfo&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> userinfo<span class="token punctuation">.</span>data
<span class="token punctuation">}</span>

<span class="token function">verifyCode</span><span class="token punctuation">(</span><span class="token string">&#39;AUTHORIZATION_CODE_FROM_CLIENT_SIDE&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">userInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// use userInfo and do your server-side logics here</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// validation failed and userinfo was not obtained</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="validating-access-token" tabindex="-1"><a class="header-anchor" href="#validating-access-token" aria-hidden="true">#</a> Validating Access Token</h6>`,3),os=s("If you are using "),ps=n("a",{href:"#googleauthcodelogin-function"},"googleTokenLogin function",-1),ls=s(" or "),cs={href:"https://developers.google.com/identity/oauth2/web/reference/js-reference#google.accounts.oauth2.initTokenClient",target:"_blank",rel:"noopener noreferrer"},is=s("google.accounts.oauth2.initTokenClient"),us=s(", the response you get on successfull login contains an "),rs={href:"https://developers.google.com/identity/oauth2/web/guides/use-token-model",target:"_blank",rel:"noopener noreferrer"},ds=s("Access Token"),ks=e(`<p>Here is a sample Node.js code snippet for validating this Access Token from the response</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> OAuth2Client <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;google-auth-library&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OAuth2Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// Call this function to validate OAuth2 authorization code sent from client-side</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">verifyToken</span><span class="token punctuation">(</span><span class="token parameter">token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  client<span class="token punctuation">.</span><span class="token function">setCredentials</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">access_token</span><span class="token operator">:</span> token <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> userinfo <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://www.googleapis.com/oauth2/v3/userinfo&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> userinfo<span class="token punctuation">.</span>data
<span class="token punctuation">}</span>

<span class="token function">verifyToken</span><span class="token punctuation">(</span><span class="token string">&quot;ACCESS_TOKEN_FROM_CLIENT_SIDE&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">userInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="combination-of-one-tap-prompt-and-custom-button" tabindex="-1"><a class="header-anchor" href="#combination-of-one-tap-prompt-and-custom-button" aria-hidden="true">#</a> Combination of One Tap Prompt and Custom Button</h3><p>If you are using the combination of these like below, then the response caught in callback function can be different based on the user action, you can handle this by making serverside endpoints which accepts both type of responses and in callback function conditionally call these endpoints</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>credential<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Call the endpoint which validates JWT credential string&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Call the endpoint which validates authorization code&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoogleLogin</span> <span class="token attr-name">:callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prompt</span> <span class="token attr-name">auto-login</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>Add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>GoogleLogin</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nuxt-3" tabindex="-1"><a class="header-anchor" href="#nuxt-3" aria-hidden="true">#</a> Nuxt 3</h2><h3 id="initialize-vue3-google-login-inside-the-plugins-directory" tabindex="-1"><a class="header-anchor" href="#initialize-vue3-google-login-inside-the-plugins-directory" aria-hidden="true">#</a> Initialize vue3-google-login inside the plugins directory</h3><p>For example, create a file named vue3-google-login.client.ts and place it inside the plugins directory, this will register <code>GoogleLogin</code> component globally</p><blockquote><p>\u2757 Make sure to use <code>.client</code> suffix in the file name to load the plugin only on the client side.</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// plugins/vue3-google-login.client.ts</span>
<span class="token keyword">import</span> vue3GoogleLogin <span class="token keyword">from</span> <span class="token string">&#39;vue3-google-login&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineNuxtPlugin</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">nuxtApp</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  nuxtApp<span class="token punctuation">.</span>vueApp<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>vue3GoogleLogin<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">clientId</span><span class="token operator">:</span> <span class="token string">&#39;YOUR_GOOGLE_CLIENT_ID&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-ssr-support" tabindex="-1"><a class="header-anchor" href="#no-ssr-support" aria-hidden="true">#</a> No SSR support</h2>`,11),gs=s("The "),vs=n("a",{href:"#googlelogin-component"},"GoogleLogin component",-1),hs=s(" doesn't render properly on the server side because the Google login button relies on an iframe button provided by Google and needs the "),ms={href:"https://developers.google.com/identity/oauth2/web/guides/load-3p-authorization-library",target:"_blank",rel:"noopener noreferrer"},bs=s("Google 3P Authorization JavaScript Library"),fs=s(" to be loaded on the client side. So, if you are using SSR-supporting frameworks like Nuxt 3 or Quasar, make sure the GoogleLogin component is rendered on the client side."),_s=n("blockquote",null,[n("p",null,[s("\u{1F4A1} You can also directly import the "),n("a",{href:"#googlelogin-component"},"GoogleLogin component"),s(" and utilize the client-id prop if you don't wish to initialize the plugin at the framework entry point and register the GoogleLogin component globally.")])],-1),ys=n("h3",{id:"nuxt-3-1",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#nuxt-3-1","aria-hidden":"true"},"#"),s(" Nuxt 3")],-1),ws=s("On Nuxt 3 application, wrap the GoogleLogin component in the "),qs={href:"https://nuxt.com/docs/api/components/client-only",target:"_blank",rel:"noopener noreferrer"},Gs=n("code",null,"ClientOnly",-1),Ts=s(" component"),Ls=s(", which is used for purposely rendering a component only on client side."),xs=e(`<div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ClientOnly</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoogleLogin</span> <span class="token attr-name">:callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span> <span class="token attr-name">client-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>YOUR_GOOGLE_CLIENT_ID<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ClientOnly</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="quasar-in-ssr-mode" tabindex="-1"><a class="header-anchor" href="#quasar-in-ssr-mode" aria-hidden="true">#</a> Quasar in SSR mode</h3>`,2),Cs=s("You can use "),Os={href:"https://quasar.dev/vue-components/no-ssr/",target:"_blank",rel:"noopener noreferrer"},Is=n("code",null,"QNoSsr",-1),As=s(" component"),Ss=s(" for rendering the login button on client side while running a Quasar app on SSR mode."),js=e(`<div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>q-no-ssr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoogleLogin</span> <span class="token attr-name">:callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span> <span class="token attr-name">client-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>YOUR_GOOGLE_CLIENT_ID<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>q-no-ssr</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="vike" tabindex="-1"><a class="header-anchor" href="#vike" aria-hidden="true">#</a> Vike</h3>`,2),Es=s("In Vike applications, you can use the "),zs={href:"https://vike.dev/clientOnly#vue",target:"_blank",rel:"noopener noreferrer"},Ds=s("clientOnly helper"),Ns=s(", which is used for purposely rendering a component only on client side."),Rs=e(`<div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoogleLogin</span> <span class="token attr-name">:callback</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span> <span class="token attr-name">client-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>YOUR_GOOGLE_CLIENT_ID<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> clientOnly <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vike-vue/clientOnly&#39;</span>
<span class="token keyword">const</span> GoogleLogin <span class="token operator">=</span> <span class="token function">clientOnly</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;vue3-google-login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>GoogleLogin<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="options" tabindex="-1"><a class="header-anchor" href="#options" aria-hidden="true">#</a> Options</h2><h3 id="plugin-options-and-googlelogin-component-props" tabindex="-1"><a class="header-anchor" href="#plugin-options-and-googlelogin-component-props" aria-hidden="true">#</a> Plugin options and GoogleLogin component props</h3><p>Options of plugin used at <a href="#initialize-the-plugin">initializing in main.js</a> and prop values in <a href="#googlelogin-component">GoogleLogin component</a> are similar.</p>`,4),Us=n("thead",null,[n("tr",null,[n("th",null,"Name"),n("th",{style:{"text-align":"center"}},"Type"),n("th",{style:{"text-align":"left"}},"Description")])],-1),Vs=n("tr",null,[n("td",null,"clientId"),n("td",{style:{"text-align":"center"}},"String"),n("td",{style:{"text-align":"left"}},"Google API client ID")],-1),Hs=n("tr",null,[n("td",null,"prompt"),n("td",{style:{"text-align":"center"}},"Boolean"),n("td",{style:{"text-align":"left"}},[s("Set this to true to display the One Tap prompt"),n("br"),n("br"),s("Setting this value as a prop of "),n("a",{href:"#googlelogin-component"},"GoogleLogin component"),s(" will be ignored if this is set as option on "),n("a",{href:"#initialize-the-plugin"},"initializing the plugin")])],-1),Fs=n("tr",null,[n("td",null,"autoLogin"),n("td",{style:{"text-align":"center"}},"Boolean"),n("td",{style:{"text-align":"left"}},[s("Setting this value to true will make the prompt to automatically log in without any user interactions"),n("br"),n("br"),s("For this to work "),n("code",null,"prompt"),s(" must be set to true"),n("br"),n("br"),s("Setting this value as a prop of "),n("a",{href:"#googlelogin-component"},"GoogleLogin component"),s(" will be ignored if this is set as option on "),n("a",{href:"#initialize-the-plugin"},"initializing the plugin")])],-1),Ps=n("tr",null,[n("td",null,"popupType"),n("td",{style:{"text-align":"center"}},"String"),n("td",{style:{"text-align":"left"}},[s("Type of callback response, accepts either "),n("code",null,"CODE"),s(" or "),n("code",null,"TOKEN"),s(", this only works if a custom button is added as a slot button")])],-1),Bs=n("tr",null,[n("td",null,"callback"),n("td",{style:{"text-align":"center"}},"Function"),n("td",{style:{"text-align":"left"}},"The callback function which will be trigger with a response object once the login is completed")],-1),Js=n("tr",null,[n("td",null,"error"),n("td",{style:{"text-align":"center"}},"Function"),n("td",{style:{"text-align":"left"}},"An error function which will be triggered on any error encountered while showing the prompts/popups")],-1),Ys=n("td",null,"idConfiguration",-1),Ms=n("td",{style:{"text-align":"center"}},"Object",-1),Ws={style:{"text-align":"left"}},Ks=s("IdConfiguration object for initializing, see list of fields and descriptions of the IdConfiguration "),Qs={href:"https://developers.google.com/identity/gsi/web/reference/js-reference#IdConfiguration",target:"_blank",rel:"noopener noreferrer"},Xs=s("here"),Zs=n("td",null,"buttonConfig",-1),$s=n("td",{style:{"text-align":"center"}},"Object",-1),na={style:{"text-align":"left"}},sa=s("Configuration of the login button rendered by Google, see list of fields and descriptions of these configurations "),aa={href:"https://developers.google.com/identity/gsi/web/reference/js-reference#GsiButtonConfiguration",target:"_blank",rel:"noopener noreferrer"},ta=s("here"),ea=n("h3",{id:"function-googleonetap",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#function-googleonetap","aria-hidden":"true"},"#"),s(" Function googleOneTap")],-1),oa=n("p",null,[n("code",null,"googleOneTap"),s(" function accepts the following options")],-1),pa=n("thead",null,[n("tr",null,[n("th",null,"Name"),n("th",{style:{"text-align":"center"}},"Type"),n("th",{style:{"text-align":"left"}},"Description")])],-1),la=n("tr",null,[n("td",null,"clientId"),n("td",{style:{"text-align":"center"}},"String"),n("td",{style:{"text-align":"left"}},"Google API client ID")],-1),ca=n("td",null,"context",-1),ia=n("td",{style:{"text-align":"center"}},"String",-1),ua={style:{"text-align":"left"}},ra=s("The title and words in the One Tap prompt, this can be "),da=n("code",null,"signin",-1),ka=s("|"),ga=n("code",null,"signup",-1),va=s("|"),ha=n("code",null,"use",-1),ma=s(" see "),ba={href:"https://developers.google.com/identity/gsi/web/guides/change-sign-in-context",target:"_blank",rel:"noopener noreferrer"},fa=s("here"),_a=s(" for more info"),ya=n("tr",null,[n("td",null,"autoLogin"),n("td",{style:{"text-align":"center"}},"Boolean"),n("td",{style:{"text-align":"left"}},"Set this to true if you want the one-tap promt to automatically login")],-1),wa=n("tr",null,[n("td",null,"cancelOnTapOutside"),n("td",{style:{"text-align":"center"}},"Boolean"),n("td",{style:{"text-align":"left"}},"Controls whether to cancel the prompt if the user clicks outside of the prompt")],-1),qa=e('<h3 id="function-googleauthcodelogin-and-googletokenlogin" tabindex="-1"><a class="header-anchor" href="#function-googleauthcodelogin-and-googletokenlogin" aria-hidden="true">#</a> Function googleAuthCodeLogin and googleTokenLogin</h3><p><code>googleAuthCodeLogin</code> and <code>googleTokenLogin</code> functions accepts an object with client id, this is useful if you are not planning to initialize the plugin in main.js</p><table><thead><tr><th>Name</th><th style="text-align:center;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td>clientId</td><td style="text-align:center;">String</td><td style="text-align:left;">Google API client ID</td></tr></tbody></table>',3);function Ga(Ta,La){const a=i("ExternalLinkIcon");return p(),l(c,null,[r,n("p",null,[d,k,n("a",g,[v,t(a)]),h,n("a",m,[b,t(a)]),f]),_,n("ul",null,[y,n("li",null,[w,q,n("a",G,[T,t(a)]),L]),x]),C,n("blockquote",null,[n("p",null,[O,n("a",I,[A,t(a)]),S])]),j,E,z,n("p",null,[D,n("a",N,[R,t(a)]),U,V,H]),F,n("blockquote",null,[n("p",null,[P,B,J,Y,M,n("a",W,[K,t(a)]),Q,n("a",X,[Z,t(a)]),$,n("a",nn,[sn,t(a)]),an,tn])]),en,n("blockquote",null,[n("p",null,[on,n("a",pn,[ln,t(a)]),cn,un,rn,n("a",dn,[kn,t(a)]),gn])]),vn,n("p",null,[hn,mn,bn,n("a",fn,[_n,t(a)])]),yn,n("p",null,[wn,qn,Gn,Tn,Ln,n("a",xn,[Cn,t(a)]),On]),In,n("p",null,[An,n("a",Sn,[jn,t(a)]),En,zn,Dn]),Nn,n("blockquote",null,[n("p",null,[Rn,n("a",Un,[Vn,t(a)]),Hn,n("a",Fn,[Pn,t(a)])])]),Bn,n("p",null,[Jn,n("a",Yn,[Mn,t(a)]),Wn]),Kn,n("p",null,[Qn,Xn,Zn,n("a",$n,[ns,t(a)]),ss,n("a",as,[ts,t(a)])]),es,n("p",null,[os,ps,ls,n("a",cs,[is,t(a)]),us,n("a",rs,[ds,t(a)])]),ks,n("p",null,[gs,vs,hs,n("a",ms,[bs,t(a)]),fs]),_s,ys,n("p",null,[ws,n("a",qs,[Gs,Ts,t(a)]),Ls]),xs,n("p",null,[Cs,n("a",Os,[Is,As,t(a)]),Ss]),js,n("p",null,[Es,n("a",zs,[Ds,t(a)]),Ns]),Rs,n("table",null,[Us,n("tbody",null,[Vs,Hs,Fs,Ps,Bs,Js,n("tr",null,[Ys,Ms,n("td",Ws,[Ks,n("a",Qs,[Xs,t(a)])])]),n("tr",null,[Zs,$s,n("td",na,[sa,n("a",aa,[ta,t(a)])])])])]),ea,oa,n("table",null,[pa,n("tbody",null,[la,n("tr",null,[ca,ia,n("td",ua,[ra,da,ka,ga,va,ha,ma,n("a",ba,[fa,t(a)]),_a])]),ya,wa])]),qa],64)}var Ca=o(u,[["render",Ga],["__file","index.html.vue"]]);export{Ca as default};
