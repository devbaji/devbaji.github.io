var ae=Object.defineProperty,le=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var z=(t,a,e)=>a in t?ae(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,g=(t,a)=>{for(var e in a||(a={}))oe.call(a,e)&&z(t,e,a[e]);if(Q)for(var e of Q(a))ne.call(a,e)&&z(t,e,a[e]);return t},_=(t,a)=>le(t,se(a));import{b as R,c as T,d as re,e as ue,u as ce,Q as ie,a as O}from"./use-quasar.21eab2cc.js";import{r as k,i as n,v as i,t as de,S as fe,J as C,p as ve,n as U,B as D,q as I,K as me,U as ge,u as A,V as E,W as be,X as pe,Y as he,Z as ke,o as q,c as B,_ as xe,$ as _e,a0 as qe,a1 as j,a2 as Ve,w as V,a as f,b as M,a3 as N,g as ye,F as Se,a4 as Be,Q as P}from"./index.b2bf95d0.js";function Ce(t,a){const e=k(null),s=n(()=>t.disable!==!0?null:i("span",{ref:e,class:"no-outline",tabindex:-1}));function o(c){const r=a.value;c!==void 0&&c.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():e.value!==null&&(c===void 0||r!==null&&r.contains(c.target)===!0)&&e.value.focus()}return{refocusTargetEl:s,refocusTarget:o}}var Ie={xs:30,sm:35,md:40,lg:50,xl:60};const we=_(g(g(g({},T),ve),re),{modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),$e=["update:modelValue"];function Qe(t,a){const{props:e,slots:s,emit:o,proxy:c}=U(),{$q:r}=c,m=R(e,r),b=k(null),{refocusTargetEl:d,refocusTarget:u}=Ce(e,b),K=de(e,Ie),p=n(()=>e.val!==void 0&&Array.isArray(e.modelValue)),y=n(()=>p.value===!0?e.modelValue.indexOf(e.val):-1),v=n(()=>p.value===!0?y.value>-1:e.modelValue===e.trueValue),x=n(()=>p.value===!0?y.value===-1:e.modelValue===e.falseValue),w=n(()=>v.value===!1&&x.value===!1),L=n(()=>e.disable===!0?-1:e.tabindex||0),H=n(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(m.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),J=n(()=>{const l=v.value===!0?"truthy":x.value===!0?"falsy":"indet",h=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?v.value===!0:x.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${l}${h}`}),W=n(()=>{const l={type:"checkbox"};return e.name!==void 0&&Object.assign(l,{"^checked":v.value===!0?"checked":void 0,name:e.name,value:p.value===!0?e.val:e.trueValue}),l}),X=ue(W),Y=n(()=>{const l={tabindex:L.value,role:"checkbox","aria-label":e.label,"aria-checked":w.value===!0?"mixed":v.value===!0?"true":"false"};return e.disable===!0&&(l["aria-disabled"]="true"),l});function S(l){l!==void 0&&(D(l),u(l)),e.disable!==!0&&o("update:modelValue",Z(),l)}function Z(){if(p.value===!0){if(v.value===!0){const l=e.modelValue.slice();return l.splice(y.value,1),l}return e.modelValue.concat([e.val])}if(v.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(x.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function G(l){(l.keyCode===13||l.keyCode===32)&&D(l)}function ee(l){(l.keyCode===13||l.keyCode===32)&&S(l)}const te=a(v,w);return Object.assign(c,{toggle:S}),()=>{const l=te();e.disable!==!0&&X(l,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const h=[i("div",{class:J.value,style:K.value},l)];d.value!==null&&h.push(d.value);const $=e.label!==void 0?fe(s.default,[e.label]):C(s.default);return $!==void 0&&h.push(i("div",{class:`q-${t}__label q-anchor--skip`},$)),i("div",_(g({ref:b,class:H.value},Y.value),{onClick:S,onKeydown:G,onKeyup:ee}),h)}}const ze=i("div",{key:"svg",class:"q-checkbox__bg absolute"},[i("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[i("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),i("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Oe=I({name:"QCheckbox",props:we,emits:$e,setup(t){function a(e,s){const o=n(()=>(e.value===!0?t.checkedIcon:s.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>o.value!==null?[i("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[i(me,{class:"q-checkbox__icon",name:o.value})])]:[ze]}return Qe("checkbox",a)}}),F=I({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(t,{slots:a}){const e=n(()=>`q-card__section q-card__section--${t.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>i(t.tag,{class:e.value},C(a.default))}}),De=I({name:"QCard",props:_(g({},T),{tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean}),setup(t,{slots:a}){const e=U(),s=R(t,e.proxy.$q),o=n(()=>"q-card"+(s.value===!0?" q-card--dark q-dark":"")+(t.bordered===!0?" q-card--bordered":"")+(t.square===!0?" q-card--square no-border-radius":"")+(t.flat===!0?" q-card--flat no-shadow":""));return()=>i(t.tag,{class:o.value},C(a.default))}});const Ne=ge({id:"blogs",state:()=>({blogs:[]}),getters:{},actions:{setBlogs(t){this.blogs=t},addBlog(t){this.blogs.push(t)}}}),Pe={class:"q-pa-md row items-start q-gutter-md"},Fe={class:"text-h6"},Re={setup(t){const a=Ne(),e=A(),s=E(j,"blogs"),o=be(s,he("viewers","in",[e.loggedInUser.uid,"public"]),pe("name","asc"));return ke(o,c=>{a.setBlogs(c.docs.map(r=>r.data()))}),(c,r)=>(q(),B("div",Pe,[(q(!0),B(xe,null,_e(qe(a).blogs,m=>(q(),Ve(De,{class:"my-card text-white bg-grey-9"},{default:V(()=>[f(F,null,{default:V(()=>[M("div",Fe,N(m.name),1)]),_:2},1024),f(F,{class:"q-pt-none"},{default:V(()=>[ye(N(m.desc),1)]),_:2},1024)]),_:2},1024))),256))]))}},Te={class:"q-pa-md"},je={setup(t){const a=A(),e=k(null),s=k(null),o=k(!1),c=ce();Se(()=>{});const r=async()=>{const b={userId:a.loggedInUser.uid,name:e.value,desc:s.value,viewers:o.value?"public":a.loggedInUser.uid};await Be(E(j,"blogs"),b),c.notify({color:"green",textColor:"white",icon:"warning",message:"Blog saved successfully"})},m=()=>{e.value=null,s.value=null};return(b,d)=>(q(),B("div",Te,[f(Re),f(ie,{onSubmit:r,onReset:m,class:"q-gutter-md"},{default:V(()=>[f(O,{modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=u=>e.value=u),label:"Name",hint:"Name of blog","lazy-rules":"",rules:[u=>u&&u.length>0||"Please type toto name"]},null,8,["modelValue","rules"]),f(O,{type:"text",modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=u=>s.value=u),label:"Description",hint:"Description of blog","lazy-rules":"",rules:[u=>u!==null&&u!==""||"Description is required"]},null,8,["modelValue","rules"]),f(Oe,{modelValue:o.value,"onUpdate:modelValue":d[2]||(d[2]=u=>o.value=u),label:"Public"},null,8,["modelValue"]),M("div",null,[f(P,{label:"Submit",type:"submit",color:"primary"}),f(P,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])]),_:1})]))}};export{je as default};
